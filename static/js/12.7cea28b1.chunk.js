(this["webpackJsonpsivanandha-webapp"]=this["webpackJsonpsivanandha-webapp"]||[]).push([[12],{1063:function(t,e,n){"use strict";var a={};n.r(a),n.d(a,"SET_SEARCH_TEXT",(function(){return s})),n.d(a,"OPEN_NEW_DIALOG",(function(){return c})),n.d(a,"CLOSE_NEW_DIALOG",(function(){return i})),n.d(a,"OPEN_EDIT_DIALOG",(function(){return o})),n.d(a,"CLOSE_EDIT_DIALOG",(function(){return l})),n.d(a,"CLOSE_ONLY_DIALOG",(function(){return m})),n.d(a,"setSearchText",(function(){return d})),n.d(a,"openNewDialog",(function(){return u})),n.d(a,"closeNewDialog",(function(){return p})),n.d(a,"openEditDialog",(function(){return b})),n.d(a,"closeEditDialog",(function(){return E})),n.d(a,"closeOnlyDialog",(function(){return f}));var r={};n.r(r),n.d(r,"getAllExamMaster",(function(){return M})),n.d(r,"addExamMaster",(function(){return k})),n.d(r,"editExamMaster",(function(){return A})),n.d(r,"delExamMaster",(function(){return h})),n.d(r,"getAllExamGrade",(function(){return w})),n.d(r,"addMarkGrade",(function(){return D})),n.d(r,"editMarkGrade",(function(){return C})),n.d(r,"delMarkGrade",(function(){return L}));var s="[EXAM_MASTER] SET SEARCH TEXT",c="[EXAM_MASTER] OPEN NEW DIALOG",i="[EXAM_MASTER] CLOSE NEW DIALOG",o="[EXAM_MASTER] OPEN EDIT DIALOG",l="[EXAM_MASTER] CLOSE EDIT DIALOG",m="[EXAM_MASTER] CLOSE ONLY DIALOG";function d(t){return{type:s,searchText:t.target.value}}function u(){return{type:c}}function p(){return{type:i}}function b(t,e){return{type:o,data:t,mode:e}}function E(){return{type:l}}function f(){return{type:m}}var x=n(14),y=n(13),g=n.n(y);function N(){var t=Object(x.a)(["\n\tmutation delMarkGrade($id: String!) {\n\t\tdelMarkGrade(id: $id) {\n\t\t\tMessages\n\t\t}\n\t}\n"]);return N=function(){return t},t}function $(){var t=Object(x.a)(["\n\tmutation editMarkGrade(\n\t\t$id: String!\n\t\t$name: String\n\t\t$description: String\n\t\t$color: String\n\t\t$grade_point: Int\n\t\t$min: Int\n\t\t$max: Int\n\t\t$orderby: Int\n\t\t$acd_year_id: String\n\t\t$notes: String\n\t) {\n\t\teditMarkGrade(\n\t\t\tid: $id\n\t\t\tinput: {\n\t\t\t\tname: $name\n\t\t\t\tdescription: $description\n\t\t\t\tcolor: $color\n\t\t\t\tgrade_point: $grade_point\n\t\t\t\tmin: $min\n\t\t\t\tmax: $max\n\t\t\t\torderby: $orderby\n\t\t\t\tacd_year_id: $acd_year_id\n\t\t\t\tnotes: $notes\n\t\t\t}\n\t\t) {\n\t\t\tid\n\t\t}\n\t}\n"]);return $=function(){return t},t}function O(){var t=Object(x.a)(["\n\tmutation addMarkGrade(\n\t\t$name: String\n\t\t$description: String\n\t\t$color: String\n\t\t$grade_point: Int\n\t\t$min: Int\n\t\t$max: Int\n\t\t$orderby: Int\n\t\t$acd_year_id: String\n\t\t$notes: String\n\t) {\n\t\taddMarkGrade(\n\t\t\tinput: {\n\t\t\t\tname: $name\n\t\t\t\tdescription: $description\n\t\t\t\tcolor: $color\n\t\t\t\tgrade_point: $grade_point\n\t\t\t\tmin: $min\n\t\t\t\tmax: $max\n\t\t\t\torderby: $orderby\n\t\t\t\tacd_year_id: $acd_year_id\n\t\t\t\tnotes: $notes\n\t\t\t}\n\t\t) {\n\t\t\tid\n\t\t}\n\t}\n"]);return O=function(){return t},t}function j(){var t=Object(x.a)(["\n\tquery {\n\t\tgetAllExamGrade {\n\t\t\tid\n\t\t\tname\n\t\t\tdescription\n\t\t\tcolor\n\t\t\tgrade_point\n\t\t\tmin\n\t\t\tmax\n\t\t\torderby\n\t\t\tacd_year_id\n\t\t\tnotes\n\t\t\tcreatedby\n\t\t\tcreatedon\n\t\t\tupdatedby\n\t\t\tupdatedon\n\t\t}\n\t}\n"]);return j=function(){return t},t}function _(){var t=Object(x.a)(["\n\tmutation delExamMaster($id: String!) {\n\t\tdelExamMaster(id: $id) {\n\t\t\tMessages\n\t\t}\n\t}\n"]);return _=function(){return t},t}function v(){var t=Object(x.a)(["\n\tmutation editExamMaster(\n\t\t$id: String!\n\t\t$name: String\n\t\t$class: String\n\t\t$subjects: String\n\t\t$min_marks: Int\n\t\t$max_marks: Int\n\t\t$orderby: Int\n\t\t$notes: String\n\t) {\n\t\teditExamMaster(\n\t\t\tid: $id\n\t\t\tinput: {\n\t\t\t\tname: $name\n\t\t\t\tclass: $class\n\t\t\t\tsubjects: $subjects\n\t\t\t\tmin_marks: $min_marks\n\t\t\t\tmax_marks: $max_marks\n\t\t\t\torderby: $orderby\n\t\t\t\tnotes: $notes\n\t\t\t}\n\t\t) {\n\t\t\tid\n\t\t}\n\t}\n"]);return v=function(){return t},t}function I(){var t=Object(x.a)(["\n\tmutation addExamMaster(\n\t\t$name: String\n\t\t$class: String\n\t\t$subjects: String\n\t\t$min_marks: Int\n\t\t$max_marks: Int\n\t\t$orderby: Int\n\t\t$notes: String\n\t) {\n\t\taddExamMaster(\n\t\t\tinput: {\n\t\t\t\tname: $name\n\t\t\t\tclass: $class\n\t\t\t\tsubjects: $subjects\n\t\t\t\tmin_marks: $min_marks\n\t\t\t\tmax_marks: $max_marks\n\t\t\t\torderby: $orderby\n\t\t\t\tnotes: $notes\n\t\t\t}\n\t\t) {\n\t\t\tid\n\t\t}\n\t}\n"]);return I=function(){return t},t}function S(){var t=Object(x.a)(["\n\tquery getAllExamMaster($examName: String, $classId: String) {\n\t\tgetAllExamMaster(examName: $examName, classId: $classId) {\n\t\t\tid\n\t\t\texamName\n\t\t\tminMarks\n\t\t\tmaxMarks\n\t\t\torderby\n\t\t\tnotes\n\t\t\tclassId\n\t\t\tclassName\n\t\t\tclassSection\n\t\t\tsubjectId\n\t\t\tsubjectName\n\t\t\tsubjectSubcode\n\t\t\tsubjectColor\n\t\t\tcreatedby\n\t\t\tcreatedon\n\t\t\tupdatedby\n\t\t\tupdatedon\n\t\t}\n\t}\n"]);return S=function(){return t},t}var M=g()(S()),k=g()(I()),A=g()(v()),h=g()(_()),w=g()(j()),D=g()(O()),C=g()($()),L=g()(N());function T(){var t=Object(x.a)(["\n\tquery getAllExamMaster($examName: String, $classId: String) {\n\t\tgetAllExamMaster(examName: $examName, classId: $classId) {\n\t\t\tid\n\t\t\texamName\n\t\t\tminMarks\n\t\t\tmaxMarks\n\t\t\torderby\n\t\t\tnotes\n\t\t\tclassId\n\t\t\tclassName\n\t\t\tclassSection\n\t\t\tsubjectId\n\t\t\tsubjectName\n\t\t\tsubjectSubcode\n\t\t\tsubjectColor\n\t\t\tcreatedby\n\t\t\tcreatedon\n\t\t\tupdatedby\n\t\t\tupdatedon\n\t\t}\n\t}\n"]);return T=function(){return t},t}g()(T());n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}))},1111:function(t,e,n){"use strict";var a=n(11),r=n(1063),s={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.a.SET_SEARCH_TEXT:return Object(a.a)({},t,{searchText:e.searchText});case r.a.OPEN_NEW_DIALOG:return Object(a.a)({},t,{dialog:{type:"new",props:{open:!0},data:e.data,mode:e.mode}});case r.a.CLOSE_NEW_DIALOG:return Object(a.a)({},t,{dialog:{type:"new",props:{open:!1},data:null}});case r.a.OPEN_EDIT_DIALOG:return Object(a.a)({},t,{dialog:{type:e.mode,props:{open:!0},data:e.data,mode:e.mode}});case r.a.CLOSE_EDIT_DIALOG:return Object(a.a)({},t,{dialog:{type:e.mode,props:{open:!1},data:null}});case r.a.CLOSE_ONLY_DIALOG:return Object(a.a)({},t,{dialog:{type:"close",props:{open:!1},data:null}});default:return t}}},1112:function(t,e,n){"use strict";var a=n(0),r=n.n(a),s=n(1011),c=n(157),i=n(1036),o=n(16),l=n(8),m=n(1063);e.a=function(t){var e=Object(l.b)();return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between px-24"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(o.a,{animation:"transition.expandIn",delay:300},r.a.createElement(s.a,{className:"text-32 mr-12"},t.icon)),r.a.createElement(o.a,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(c.a,{variant:"h6",className:"hidden sm:flex"},t.headerName))),r.a.createElement(o.a,{animation:"transition.slideRightIn",delay:300},r.a.createElement(i.a,{onClick:function(){e(m.a.openNewDialog())},variant:"contained"},r.a.createElement("span",{className:"hidden sm:flex normal-case"},t.buttonDisplay?t.buttonDisplay:"Add New"),r.a.createElement("span",{className:"flex sm:hidden normal-case"},"New"))))}},1407:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),s=n(16),c=n(158),i=n(1111),o=n(1112),l=n(32),m=n(11),d=n(10),u=n(1030),p=n(963),b=n(1011),E=n(221),f=(n(64),n(218)),x=n(8),y=(n(197),n(75)),g=n(1063),N={current:1,total:0,pageSize:10,sorted:"",isAsc:"ASC",examName:"ALL",classId:"ALL"};var $=function(){var t=Object(x.b)(),e=Object(a.useState)(N),n=Object(d.a)(e,2),s=n[0],c=n[1],i=Object(x.c)((function(t){return t.exams.dialog})),o=Object(f.d)(g.b.getAllExamMaster,{variables:{examName:s.examName,classId:s.classId}}),$=o.loading,O=o.error,j=o.data,_=o.refetch;if(Object(a.useEffect)((function(){i.props.open||"close"===i.type||_()}),[i.props.open,i.type,_]),O)return r.a.createElement("h1",null,"Error...");if($||!j)return r.a.createElement(y.j,null);var v=j.getAllExamMaster;return r.a.createElement("div",{className:"w-full flex flex-col"},r.a.createElement("div",{className:"flex md:flex-row sm:flex-col xs:flex-col mt-8"},r.a.createElement(y.f,{formName:s,filterName:"EXAM_TYPE",fieldName:"examName",label:"Exam Name",cssClass:"w-1/4 my-8 mr-8 ml-32",onDDChange:function(t,e){c((function(n){return Object.assign(Object(m.a)({},n,Object(l.a)({},e,t.label)))}))}}),r.a.createElement(y.c,{formName:s.classId,onDDChange:function(t,e){"class_section"===e&&(e="classId"),c((function(n){return Object.assign(Object(m.a)({},n,Object(l.a)({},e,t.value)))}))},label:"Search by Class & Section",showAll:!0,cssClass:"w-1/4 my-8 mr-8 ml-32"})),r.a.createElement(E.b,{className:"-striped -highlight border-0 min-w-xl ",data:v,showPagination:!0,defaultSorted:[{id:"orderby",asc:!0}],columns:[{Header:function(){return r.a.createElement("span",{style:{whiteSpace:"pre-line !important",wordWrap:"break-word"}},"Name")},accessor:"examName",style:{whiteSpace:"unset"},getProps:function(){return{style:{paddingLeft:"8px"}}}},{Header:"Class-Section",accessor:"className",Cell:function(t){return t.original.className+" - "+t.original.classSection},getProps:function(){return{style:{justifyContent:"center"}}}},{Header:"Subject",accessor:"subjectName"},{Header:"Min",accessor:"minMarks",getProps:function(){return{style:{justifyContent:"center"}}}},{Header:"Max",accessor:"maxMarks",getProps:function(){return{style:{justifyContent:"center"}}}},{Header:"Comments",accessor:"notes"},{Header:"",sortable:!1,Cell:function(e){return r.a.createElement("div",{className:"flex items-center"},r.a.createElement(u.a,{title:"Edit Exam"},r.a.createElement(p.a,{onClick:function(n){n.stopPropagation(),t(g.a.openEditDialog(e.original,"edit"))}},r.a.createElement(b.a,null,"edit"))),r.a.createElement(u.a,{title:"Delete / Inactivate"},r.a.createElement(p.a,{onClick:function(n){n.stopPropagation(),t(g.a.openEditDialog(e.original,"delete"))}},r.a.createElement(b.a,null,"delete"))))}}]}))},O=n(1033),j=n(1027),_=n(1037),v=n(157),I=n(1038),S=n(1010),M=n(1039),k=n(1036),A=(n(1065),n(109)),h=n(82),w=n.n(h),D={id:"",examName:"",classId:"",class_section:"",subjectId:"",minMarks:40,maxMarks:100,orderby:0,notes:""};var C=function(t){var e=Object(x.b)(),n=Object(x.c)((function(t){return t.exams.dialog})),c=Object(a.useState)(!1),i=Object(d.a)(c,2),o=i[0],l=i[1],u=Object(A.b)(D),p=u.form,E=u.setForm,N=u.setInForm,$=Object(a.useRef)(null),h=g.b.editExamMaster;"new"===n.type?h=g.b.addExamMaster:"edit"===n.type?h=g.b.editExamMaster:"delete"===n.type&&(h=g.b.delExamMaster);var C=Object(f.c)(h,{onCompleted:function(t){t.data;X()}}),L=Object(d.a)(C,2),T=L[0],G=L[1],P=G.loading,R=G.error,W=Object(a.useCallback)((function(){"edit"!==n.type&&"delete"!==n.type||!n.data||E(Object(m.a)({},n.data)),"new"===n.type&&E(Object(m.a)({},D))}),[n.data,n.type,E]);Object(a.useEffect)((function(){return n.props.open&&W(),function(){E(D)}}),[n.props.open,W,E]);var X=function(){"edit"===n.type?e(g.a.closeEditDialog()):e(g.a.closeNewDialog())},H=function(t,e){var n=e;"class_section"===e&&(n="classId"),"subject"===e&&(n="subjectId"),N(n,t.value)};return r.a.createElement(O.a,Object.assign({},n.props,{onClose:X,fullWidth:!0,maxWidth:"md"}),r.a.createElement(j.a,{position:"static",elevation:1},r.a.createElement(_.a,{className:"flex w-full"},r.a.createElement(v.a,{variant:"subtitle1",color:"inherit"},"new"===n.type?"New Exam":"edit"===n.type?"Edit Exam":"Delete Exam"))),r.a.createElement(I.a,{classes:{root:"p-0"}},r.a.createElement("div",{className:"px-16 sm:px-24"},r.a.createElement(a.Fragment,null,r.a.createElement(w.a,{onValid:function(){l(!0)},onInvalid:function(){l(!1)},ref:$,onValidSubmit:function(t){"new"===n.type?T({variables:{name:p.examName,class:p.classId,subjects:p.subjectId,min_marks:Number(t.minMarks),max_marks:Number(t.maxMarks),orderby:Number(t.orderby),notes:t.notes}}):"edit"===n.type?T({variables:{id:p.id,name:p.examName,class:p.classId,subjects:p.subjectId,min_marks:Number(t.minMarks),max_marks:Number(t.maxMarks),orderby:Number(t.orderby),notes:t.notes}}):"delete"===n.type&&T({variables:{id:p.id}})}},r.a.createElement("div",{className:"px-8 sm:px-8 mt-16 flex flex-row"},r.a.createElement(y.f,{formName:p,filterName:"EXAM_TYPE",fieldName:"examName",label:"Exam Name",cssClass:"w-1/2",onDDChange:function(t,e){N(e,t.label)}})),r.a.createElement("div",{className:"px-8 sm:px-8 mt-16 flex flex-row justify-between"},r.a.createElement(y.c,{formName:p.classId,onDDChange:H,label:"Class - Section",showAll:!1,cssClass:"w-1/2 h-56"}),r.a.createElement(y.m,{formName:p.subjectId,classId:p.classId,onDDChange:H,cssClass:"w-1/2 ml-8"})),r.a.createElement("div",{className:"mt-16 flex flex-row justify-between"},r.a.createElement("div",{className:"px-8 sm:px-8 flex flex-row justify-between w-1/2"},r.a.createElement(s.y,{className:"pr-8 mb-8 mt-8",type:"number",name:"minMarks",label:"Min Marks",value:p.minMarks,InputProps:{endAdornment:r.a.createElement(S.a,{position:"end"},r.a.createElement(b.a,{className:"text-20",color:"action"},"book"))},variant:"outlined",required:!0}),r.a.createElement(s.y,{className:"pr-8 mb-8 mt-8",type:"number",name:"maxMarks",label:"Max Marks",value:p.maxMarks,InputProps:{endAdornment:r.a.createElement(S.a,{position:"end"},r.a.createElement(b.a,{className:"text-20",color:"action"},"book"))},variant:"outlined",required:!0})),r.a.createElement("div",{className:"ml-8 flex flex-row justify-between w-1/2"},r.a.createElement(s.y,{className:"pr-8 mb-8 mt-8",type:"number",name:"orderby",label:"Order by",value:p.orderby,InputProps:{endAdornment:r.a.createElement(S.a,{position:"end"},r.a.createElement(b.a,{className:"text-20",color:"action"},"sort"))},variant:"outlined",required:!0}))),r.a.createElement("div",{className:"px-8 sm:px-8 mt-8 flex flex-row"},r.a.createElement(s.y,{className:"pr-8 mb-8 mt-8",type:"text",name:"comments",label:"Comments (if any)",value:p.notes,multiline:!0,rows:3,validations:{maxLength:250},validationErrors:{maxLength:"You can not type in more than 250 characters"},InputProps:{endAdornment:r.a.createElement(S.a,{position:"end"},r.a.createElement(b.a,{className:"text-20",color:"action"},"event_note"))},variant:"outlined",fullWidth:!0}))),P&&r.a.createElement(y.j,{message:"Saving data..."}),R&&r.a.createElement(v.a,{className:"pt-32"},"Error : Please try again! ",r.a.createElement("br",null),R.message," ",r.a.createElement("br",null))))),r.a.createElement(M.a,{className:"justify-between pl-8 sm:pl-16"},r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(){e(g.a.closeOnlyDialog())}},"Close"),"new"===n.type&&r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(){$.current.submit()},disabled:!o},"Add Exam"),"edit"===n.type&&r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(){$.current.submit()},disabled:!o},"Save"),"delete"===n.type&&r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(){$.current.submit()}},"Delete")))};e.default=Object(c.a)("exams",i.a)((function(){var t=Object(a.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.m,{classes:{contentWrapper:"p-0 h-full",content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-72 sm:min-h-72"},header:r.a.createElement(o.a,{pageLayout:t,headerName:"Exam Setup",buttonDisplay:"Add New Exam",icon:"settings_input_composite"}),content:r.a.createElement($,null),ref:t,innerScroll:!0}),r.a.createElement(C,null))}))}}]);