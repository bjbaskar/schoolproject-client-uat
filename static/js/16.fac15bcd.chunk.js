(this["webpackJsonpsivanandha-webapp"]=this["webpackJsonpsivanandha-webapp"]||[]).push([[16],{1054:function(e,a,t){"use strict";var l=t(11),n=t(81),r={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}};a.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case n.l.SET_SEARCH_TEXT:return Object(l.a)({},e,{searchText:a.searchText});case n.l.OPEN_NEW_DIALOG:return Object(l.a)({},e,{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case n.l.CLOSE_NEW_DIALOG:return Object(l.a)({},e,{dialog:{type:"new",props:{open:!1},data:null}});case n.l.OPEN_EDIT_DIALOG:return Object(l.a)({},e,{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case n.l.CLOSE_EDIT_DIALOG:return Object(l.a)({},e,{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}}},1056:function(e,a,t){"use strict";var l=t(44),n=t(11),r=t(81),c={data:[],dialog:{type:"edit",props:{open:!1},data:null,mode:null}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.h.OPEN_EDIT_DIALOG:return Object(n.a)({},e,{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.h.CLOSE_EDIT_DIALOG:return Object(n.a)({},e,{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},d={data:[],searchText:"",ayearDialog:{type:"edit",props:{open:!1},data:null,mode:null}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.n.SET_AYEAR_SEARCH_TEXT:return Object(n.a)({},e,{searchText:a.searchText});case r.n.OPEN_NEW_DIALOG:return Object(n.a)({},e,{ayearDialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case r.n.CLOSE_NEW_DIALOG:return Object(n.a)({},e,{ayearDialog:{type:"new",props:{open:!1},data:null}});case r.n.OPEN_EDIT_DIALOG:return Object(n.a)({},e,{ayearDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.n.CLOSE_EDIT_DIALOG:return Object(n.a)({},e,{ayearDialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},i={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.g.SET_EDU_SEARCH_TEXT:return Object(n.a)({},e,{searchText:a.searchText});case r.g.OPEN_NEW_DIALOG:return Object(n.a)({},e,{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case r.g.CLOSE_NEW_DIALOG:return Object(n.a)({},e,{dialog:{type:"new",props:{open:!1},data:null}});case r.g.OPEN_EDIT_DIALOG:return Object(n.a)({},e,{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.g.CLOSE_EDIT_DIALOG:return Object(n.a)({},e,{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},u={data:[],searchText:"",subjDialog:{type:"edit",props:{open:!1},data:null,mode:null}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.j.GET_SUBJECTS:return Object(n.a)({},e,{data:a.payload});case r.j.SET_SUBJECTS_SEARCH_TEXT:return Object(n.a)({},e,{searchText:a.searchText});case r.j.OPEN_NEW_DIALOG:return Object(n.a)({},e,{subjDialog:{type:"new",props:{open:!0},data:null}});case r.j.CLOSE_NEW_DIALOG:return Object(n.a)({},e,{subjDialog:{type:"new",props:{open:!1},data:null}});case r.j.OPEN_EDIT_DIALOG:return Object(n.a)({},e,{subjDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.j.CLOSE_EDIT_DIALOG:return Object(n.a)({},e,{subjDialog:{type:a.mode,props:{open:!1},data:null}});case r.j.SET_SUBJECTS_PAGINATION:return Object(n.a)({},e,{current:a.current,pageSize:a.pageSize});default:return e}},E={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.b.SET_SEARCH_TEXT:return Object(n.a)({},e,{searchText:a.searchText});case r.b.OPEN_DIALOG:return Object(n.a)({},e,{dialog:{props:{open:!0},data:a.data,mode:a.mode}});case r.b.CLOSE_DIALOG:return Object(n.a)({},e,{dialog:{props:{open:!1},data:null,mode:a.mode}});case r.b.SET_CLASS_SEC_PAGINATION:return Object(n.a)({},e,{current:a.current,pageSize:a.pageSize});case r.b.SET_SUBJECT_IDS:return Object(n.a)({},e,{subjectIds:a.subjectIds});default:return e}},b=t(1054),O={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.d.SET_DCONFIG_SEARCH_TEXT:return Object(n.a)({},e,{searchText:a.searchText});case r.d.OPEN_NEW_DIALOG:return Object(n.a)({},e,{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case r.d.CLOSE_NEW_DIALOG:return Object(n.a)({},e,{dialog:{type:"new",props:{open:!1},data:null}});case r.d.OPEN_EDIT_DIALOG:return Object(n.a)({},e,{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.d.CLOSE_EDIT_DIALOG:return Object(n.a)({},e,{dialog:{type:a.mode,props:{open:!1},data:null}});case r.d.CLOSE_ONLY_DIALOG:return Object(n.a)({},e,{dialog:{type:"close",props:{open:!1},data:null}});default:return e}},g={data:[],searchText:"",usertypeValue:"student",todoDialog:{type:"edit",props:{open:!1},data:null,mode:null}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.a.SET_SEARCH_TEXT:return Object(n.a)({},e,{searchText:a.searchText});case r.a.SET_USERLIST_USER_TYPE:return Object(n.a)({},e,{usertypeValue:a.usertypeValue});case r.a.OPEN_EDIT_RESET_DIALOG:return Object(n.a)({},e,{todoDialog:{type:"edit",props:{open:!0},data:a.data,mode:a.mode}});case r.a.CLOSE_EDIT_RESET_DIALOG:return Object(n.a)({},e,{todoDialog:{type:"edit",props:{open:!1},data:null}});case r.a.SET_USERLIST_PAGINATION:return Object(n.a)({},e,{current:a.current,pageSize:a.pageSize});default:return e}},f=Object(l.d)({schoolProfileReducer:o,ayearReducer:s,edusysReducer:m,subjectReducer:p,classReducer:h,txtReducer:b.a,dconfigReducer:y,users:v});a.a=f},1390:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(1056),c=t(18),o=t(158),d=t(10),s=t(1011),i=t(157),m=t(1036),u=t(8),p=t(64),E=t.n(p),h=t(217),b=t(75),O=t(81);var y=function(){var e=Object(u.b)(),a=Object(u.c)((function(e){return e.schProfile.schoolProfileReducer.dialog})),t=Object(h.b)(O.i.getSchoolProfile),r=Object(d.a)(t,2),c=r[0],o=r[1],p=o.called,y=o.loading,g=o.error,v=o.data;if(Object(l.useEffect)((function(){p&&a.props.open||c()}),[a.props.open]),g)return n.a.createElement("h1",null,"Error...");if(p&&y||!v)return n.a.createElement(b.i,null);var f=v.getSchoolProfile;return n.a.createElement("div",{className:"p-16 sm:p-24 max-w-2xl w-full"},n.a.createElement("div",{className:"pb-48"},n.a.createElement("div",{className:"pb-16 flex items-center"},n.a.createElement(s.a,{color:"action"},"access_time"),n.a.createElement(i.a,{className:"h2 mx-16",color:"textSecondary"},"General")),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"simple"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"Name"),n.a.createElement("td",null,f.name)),n.a.createElement("tr",null,n.a.createElement("td",null,"Short Name"),n.a.createElement("td",null,f.surname)),n.a.createElement("tr",null,n.a.createElement("td",null,"Sector"),n.a.createElement("td",null,f.sector)),n.a.createElement("tr",null,n.a.createElement("td",null,"Provider"),n.a.createElement("td",null,f.provider)),n.a.createElement("tr",null,n.a.createElement("td",null,"Type of School"),n.a.createElement("td",null,f.type)),n.a.createElement("tr",null,n.a.createElement("td",null,"Date Opened"),n.a.createElement("td",null,E()(f.dateopened).format("DD-MM-YYYY"))),n.a.createElement("tr",null,n.a.createElement("td",null,"Date of Govt. Recognition"),n.a.createElement("td",null,E()(f.recognitiondate).format("DD-MM-YYYY"))))))),n.a.createElement("div",{className:"pb-48"},n.a.createElement("div",{className:"pb-16 flex items-center"},n.a.createElement(s.a,{color:"action"},"location_city"),n.a.createElement(i.a,{className:"h2 mx-12",color:"textSecondary"},"Address"),n.a.createElement(m.a,{onClick:function(){return e(O.h.openEditDialog(f,"edit"))},variant:"contained"},n.a.createElement("span",{className:""},"Edit Address"))),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"simple"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"Street Name"),n.a.createElement("td",null,f.address)),n.a.createElement("tr",null,n.a.createElement("td",null,"Postalcode"),n.a.createElement("td",null,f.postalcode)),n.a.createElement("tr",null,n.a.createElement("td",null,"District"),n.a.createElement("td",null,f.district)),n.a.createElement("tr",null,n.a.createElement("td",null,"Taluk"),n.a.createElement("td",null,f.taluk)),n.a.createElement("tr",null,n.a.createElement("td",null,"Phone"),n.a.createElement("td",null,f.phone)),n.a.createElement("tr",null,n.a.createElement("td",null,"Mobile"),n.a.createElement("td",null,f.mobile)),n.a.createElement("tr",null,n.a.createElement("td",null,"Locality"),n.a.createElement("td",null,f.locality)),n.a.createElement("tr",null,n.a.createElement("td",null,"Latitude"),n.a.createElement("td",null,f.latitude)),n.a.createElement("tr",null,n.a.createElement("td",null,"Longitude"),n.a.createElement("td",null,f.longitude))))),n.a.createElement("div",{className:"pb-48 mt-16"},n.a.createElement("div",{className:"pb-16 flex items-center"},n.a.createElement(s.a,{color:"action"},"edit_location"),n.a.createElement(i.a,{className:"h2 mx-12",color:"textSecondary"},"Map")),n.a.createElement("img",{className:"ml-16",src:"assets/images/school/schoolLocation.png",alt:"beach",style:{maxWidth:"640px",width:"100%",border:"8px solid #e5e5e5"}})),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"simple"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Created By"),n.a.createElement("th",null,"Created On"),n.a.createElement("th",null,"Updated By"),n.a.createElement("th",null,"Updated On"))),n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,n.a.createElement("span",{className:"truncate"},f.createdby)),n.a.createElement("td",null,n.a.createElement("span",{className:"truncate"},E()(f.createdon).format("DD-MM-YYYY"))),n.a.createElement("td",null,n.a.createElement("span",{className:"truncate"},f.updatedby)),n.a.createElement("td",null,n.a.createElement("span",{className:"truncate"},E()(f.updatedon).format("DD-MM-YYYY")))))))))};var g=function(e){return n.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between px-24"},n.a.createElement("div",{className:"flex flex-shrink items-center sm:w-224"},n.a.createElement("div",{className:"flex items-center"},n.a.createElement(c.a,{animation:"transition.expandIn",delay:300},n.a.createElement(s.a,{className:"text-32 mr-12"},"school")),n.a.createElement(c.a,{animation:"transition.slideLeftIn",delay:300},n.a.createElement(i.a,{variant:"h6",className:"hidden sm:flex"},"School Information")))))},v=t(11),f=t(1033),x=t(1027),_=t(1037),N=t(1038),j=t(1010),T=t(1039),S=t(82),L=t.n(S),D=t(109),I={id:"",address:"",postalcode:"",district:"",taluk:"",phone:"",mobile:"",locality:"",latitude:"",longitude:""};var A=function(e){var a=Object(u.b)(),t=Object(l.useRef)(null),r=Object(u.c)((function(e){return e.schProfile.schoolProfileReducer.dialog})),o=Object(D.b)(I),p=o.form,E=o.setForm,y=Object(l.useState)(!1),g=Object(d.a)(y,2),S=g[0],A=g[1],w=O.i.editSchoolProfile,C=Object(h.c)(w,{onCompleted:function(e){e.data;M()}}),P=Object(d.a)(C,2),G=P[0],Y=P[1],R=Y.loading,k=Y.error,W=Object(l.useCallback)((function(){"edit"===r.type&&r.data&&E(Object(v.a)({},r.data))}),[r.data,r.type,E]);Object(l.useEffect)((function(){r.props.open&&W()}),[r.props.open,W]);var M=function(){a(O.h.closeEditDialog())};return n.a.createElement(f.a,Object.assign({},r.props,{onClose:M,fullWidth:!0,maxWidth:"md"}),n.a.createElement(x.a,{position:"static",elevation:1},n.a.createElement(_.a,{className:"flex w-full"},n.a.createElement(i.a,{variant:"subtitle1",color:"inherit"},"Edit Address"))),n.a.createElement(N.a,{classes:{root:"p-0"}},n.a.createElement("div",{className:"px-16 sm:px-24"},n.a.createElement(l.Fragment,null,n.a.createElement(L.a,{onValid:function(){A(!0)},onInvalid:function(){A(!1)},ref:t,onValidSubmit:function(e){"edit"===r.type&&G({variables:{id:p.id,address:e.address,postalcode:e.postalcode,district:e.district,taluk:e.taluk,phone:e.phone,mobile:e.mobile,locality:e.locality,latitude:e.latitude,longitude:e.longitude}})}},n.a.createElement("div",{className:"px-8 sm:px-8 mt-16 flex flex-row"},n.a.createElement(c.y,{className:"mb-8 w-full",type:"text",name:"address",label:"Address",value:p.address,validations:{maxLength:250},validationErrors:{maxLength:"You can not type in more than 250 characters"},variant:"outlined",required:!0,multiline:!0,rows:5}),n.a.createElement("div",{className:"px-8 sm:px-8 flex flex-col w-full"},n.a.createElement(c.y,{className:"mb-8",type:"text",name:"district",label:"District",value:p.district,validations:{maxLength:30},validationErrors:{maxLength:"You can not type in more than 30 characters"},variant:"outlined",required:!0}),n.a.createElement(c.y,{className:"mt-8 mb-8",type:"text",name:"postalcode",label:"Postal Code",value:p.postalcode,validations:{maxLength:10},validationErrors:{maxLength:"You can not type in more than 10 characters"},variant:"outlined",required:!0}))),n.a.createElement("div",{className:"px-8 sm:px-8 mt-16 flex flex-row"},n.a.createElement(c.y,{className:"mb-8 w-full",type:"text",name:"taluk",label:"Taluk",value:p.taluk,validations:{maxLength:30},validationErrors:{maxLength:"You can not type in more than 30 characters"},variant:"outlined",required:!0}),n.a.createElement(c.y,{className:"ml-8 mb-8 w-full",type:"text",name:"locality",label:"Locality",value:p.locality,validations:{maxLength:100},validationErrors:{maxLength:"You can not type in more than 100 characters"},InputProps:{endAdornment:n.a.createElement(j.a,{position:"end"},n.a.createElement(s.a,{className:"text-20",color:"action"},"my_location"))},variant:"outlined",required:!0})),n.a.createElement("div",{className:"px-8 sm:px-8 mt-16 flex flex-row"},n.a.createElement(c.y,{className:"mb-8 w-full",type:"text",name:"phone",label:"Phone",value:p.phone,validations:{maxLength:25},validationErrors:{maxLength:"You can not type in more than 25 characters"},InputProps:{endAdornment:n.a.createElement(j.a,{position:"end"},n.a.createElement(s.a,{className:"text-20",color:"action"},"local_phone"))},variant:"outlined",required:!0}),n.a.createElement(c.y,{className:"ml-8 mb-8 w-full",type:"text",name:"mobile",label:"Mobile",value:p.mobile,validations:{maxLength:25},validationErrors:{maxLength:"You can not type in more than 25 characters"},InputProps:{endAdornment:n.a.createElement(j.a,{position:"end"},n.a.createElement(s.a,{className:"text-20",color:"action"},"phone_iphone"))},variant:"outlined",required:!0})),n.a.createElement("div",{className:"px-8 sm:px-8 mt-16 flex flex-row"},n.a.createElement(c.y,{className:"mb-8 w-full",type:"text",name:"latitude",label:"Latitude",value:p.latitude,validations:{maxLength:150},validationErrors:{maxLength:"You can not type in more than 150 characters"},InputProps:{endAdornment:n.a.createElement(j.a,{position:"end"},n.a.createElement(s.a,{className:"text-20",color:"action"},"location_on"))},variant:"outlined",required:!0}),n.a.createElement(c.y,{className:"ml-8 mb-8 w-full",type:"text",name:"longitude",label:"Longitude",value:p.longitude,validations:{maxLength:150},validationErrors:{maxLength:"You can not type in more than 150 characters"},InputProps:{endAdornment:n.a.createElement(j.a,{position:"end"},n.a.createElement(s.a,{className:"text-20",color:"action"},"location_on"))},variant:"outlined",required:!0}))),R&&n.a.createElement(b.i,{message:"Saving data..."}),k&&n.a.createElement(i.a,{className:"pt-32"},"Error : Please try again! ",n.a.createElement("br",null),k.message," ",n.a.createElement("br",null))))),"edit"===r.type&&n.a.createElement(T.a,{className:"justify-between pl-8 sm:pl-16"},n.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(){M()}},"Close"),n.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(){t.current.submit()},disabled:!S},"Save")))};a.default=Object(o.a)("schProfile",r.a)((function(e){var a=Object(l.useRef)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement(c.m,{classes:{contentWrapper:"p-0 h-full",content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-72 sm:min-h-72"},header:n.a.createElement(g,{pageLayout:a}),content:n.a.createElement(y,null),ref:a,innerScroll:!0}),n.a.createElement(A,null))}))}}]);