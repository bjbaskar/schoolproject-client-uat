(this["webpackJsonpsivanandha-vidyashram-seithur"]=this["webpackJsonpsivanandha-vidyashram-seithur"]||[]).push([[23],{1394:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(16),c=t(195),o=t(890),i=t(891),s=t(10),d=t(826),m=t(757),u=t(812),p=t(192),b=t(11),f=t(134),E=t.n(f),y=t(32),h=t.n(y),O=t(70),v=t(147);var g=function(){var e=Object(b.b)(),a=Object(b.c)((function(e){return e.fee.dialog})),t=Object(n.useState)([]),l=Object(s.a)(t,2),c=l[0],o=l[1],i=Object(p.b)(v.e.getAllFeeParticulars,{onCompleted:function(e){E.a.isEmpty(e.getAllFeeParticulars)?o([]):o(e.getAllFeeParticulars)}}),f=Object(s.a)(i,2),y=f[0],g=f[1],N=g.loading,j=g.error;return Object(n.useEffect)((function(){y()}),[]),Object(n.useEffect)((function(){a.props.open||"close"===a.type||y()}),[a.props.open,a.type]),r.a.createElement("div",{className:"w-full flex flex-col"},N||!c?r.a.createElement(O.s,null):r.a.createElement(O.o,{cssClass:"",data:c,hasExport:!0,orientation:"l",columns:[{id:"name",Header:"Name",accessor:"name",style:{whiteSpace:"unset"},className:"ml-8"},{id:"description",Header:"Description",accessor:"description"},{id:"updatedon",Header:"Last Updated on",accessor:function(e){return e.updatedon?e.updatedon:e.createdon},Cell:function(e){return r.a.createElement("div",{className:"text-12"},e.row.original.updatedon?h()(e.row.original.updatedon).format("Do MMM YYYY, h:mm a"):h()(e.row.original.createdon).format("Do MMM YYYY, h:mm a"))}},{id:"controls",Header:"",sortable:!1,className:"flex flex-no-wrap",Cell:function(a){return r.a.createElement(n.Fragment,null,r.a.createElement(d.a,{title:"Edit"},r.a.createElement(m.a,{onClick:function(t){t.stopPropagation(),e(v.b.openEditDialog(a.row.original,"edit"))}},r.a.createElement(u.a,null,"edit"))),r.a.createElement(d.a,{title:"Delete / Inactivate"},r.a.createElement(m.a,{onClick:function(t){t.stopPropagation(),e(v.b.openEditDialog(a.row.original,"delete"))}},r.a.createElement(u.a,null,"delete"))))}}]}),j?r.a.createElement(O.v,{message:"There was an error !"}):null)},N=t(8),j=t(829),x=t(823),w=t(833),_=t(174),D=t(834),C=t(836),P=t(835),F=t(832),A=t(101),I=t(79),L=t.n(I),S={id:"",name:"",description:"",acad_year:"",school_id:""};var k=function(e){var a=Object(b.b)(),t=Object(b.c)((function(e){return e.fee.dialog})),c=Object(n.useState)(!1),o=Object(s.a)(c,2),i=o[0],d=o[1],m=Object(A.b)(S),f=m.form,E=m.setForm,y=Object(n.useRef)(null),h=v.e.editFeeParticulars;"new"===t.type?h=v.e.addFeeParticulars:"edit"===t.type?h=v.e.editFeeParticulars:"delete"===t.type&&(h=v.e.delFeeParticulars);var g=Object(p.c)(h,{onCompleted:function(){G()}}),I=Object(s.a)(g,2),k=I[0],Y=I[1],T=Y.loading,M=Y.error,W=Object(n.useCallback)((function(){"edit"!==t.type&&"delete"!==t.type||!t.data||E(Object(N.a)({},t.data)),"new"===t.type&&E(Object(N.a)({},S))}),[t.data,t.type,E]);Object(n.useEffect)((function(){return t.props.open&&W(),function(){E(S)}}),[t.props.open,W,E]);var G=function(){"edit"===t.type?a(v.b.closeEditDialog()):a(v.b.closeNewDialog())};return r.a.createElement(j.a,Object.assign({},t.props,{onClose:G,fullWidth:!0,maxWidth:"sm"}),r.a.createElement(x.a,{position:"static",elevation:1},r.a.createElement(w.a,{className:"flex w-full"},r.a.createElement(_.a,{variant:"subtitle1",color:"inherit"},"new"===t.type?"New Fee Particulars":"edit"===t.type?"Edit Fee Particulars":"Delete Fee Particulars"))),r.a.createElement(D.a,{classes:{root:"p-0"}},r.a.createElement("div",{className:"px-16 sm:px-24"},r.a.createElement(n.Fragment,null,r.a.createElement(L.a,{onValid:function(){d(!0)},onInvalid:function(){d(!1)},ref:y,onValidSubmit:function(e){"new"===t.type?k({variables:{name:e.name,description:e.description,acad_year:"acad_year",school_id:"school_id"}}):"edit"===t.type?k({variables:{id:f.id,name:e.name,description:e.description,acad_year:"acad_year",school_id:"school_id"}}):"delete"===t.type&&k({variables:{id:f.id}})}},r.a.createElement("div",{className:"mt-16 flex flex-col"},r.a.createElement(l.x,{className:"pr-8 mb-8 mt-8 w-1/2",type:"text",name:"name",label:"Name",value:f.name,InputProps:{endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(u.a,{className:"text-20",color:"action"},"book"))},variant:"outlined",required:!0}),r.a.createElement(l.x,{className:"pr-8 mb-8 mt-8",type:"text",name:"description",label:"Description (if any)",value:f.description,multiline:!0,rows:3,validations:{maxLength:250},validationErrors:{maxLength:"You can not type in more than 250 characters"},InputProps:{endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(u.a,{className:"text-20",color:"action"},"event_note"))},variant:"outlined",fullWidth:!0,required:!0}))),"new"!==t.type&&r.a.createElement(O.t,{createdby:f.createdby,createdon:f.createdon,updatedby:f.updatedby,updatedon:f.updatedon}),T&&r.a.createElement(O.s,{message:"Saving data..."}),M&&r.a.createElement(_.a,{className:"pt-32"},"Error : Please try again! ",r.a.createElement("br",null),M.message," ",r.a.createElement("br",null))))),r.a.createElement(P.a,{className:"justify-between pl-8 sm:pl-16"},r.a.createElement(F.a,{className:"normal-case",variant:"contained",color:"primary",onClick:function(){a(v.b.closeOnlyDialog())}},"Close"),"new"===t.type&&r.a.createElement(F.a,{className:"normal-case",variant:"contained",color:"primary",onClick:function(){y.current.submit()},disabled:!i},"Add Fee Particulars"),"edit"===t.type&&r.a.createElement(F.a,{className:"normal-case",variant:"contained",color:"primary",onClick:function(){y.current.submit()},disabled:!i},"Save"),"delete"===t.type&&r.a.createElement(F.a,{className:"normal-case",variant:"contained",color:"primary",onClick:function(){y.current.submit()}},"Delete")))};a.default=Object(c.a)("fee",o.a)((function(){var e=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.m,{classes:{contentWrapper:"p-0 h-full",content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-72 sm:min-h-72"},header:r.a.createElement(i.a,{pageLayout:e,headerName:"Fee Particulars Setup",buttonDisplay:"Add New",icon:"add_to_queue"}),content:r.a.createElement(g,null),ref:e,innerScroll:!0}),r.a.createElement(k,null))}))},890:function(e,a,t){"use strict";var n=t(8),r=t(147),l={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}};a.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.b.SET_SEARCH_TEXT:return Object(n.a)(Object(n.a)({},e),{},{searchText:a.searchText});case r.b.OPEN_NEW_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case r.b.CLOSE_NEW_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:"new",props:{open:!1},data:null}});case r.b.OPEN_EDIT_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.b.CLOSE_EDIT_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:a.mode,props:{open:!1},data:null}});case r.b.CLOSE_ONLY_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:"close",props:{open:!1},data:null}});default:return e}}},891:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(812),c=t(174),o=t(832),i=t(16),s=t(11),d=t(147),m=t(87);a.a=function(e){var a=Object(s.b)(),t=Object(m.g)();return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between px-24"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(i.a,{animation:"transition.expandIn",delay:300},r.a.createElement(l.a,{className:"text-32 mr-12"},e.icon)),r.a.createElement(i.a,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(c.a,{variant:"h6",className:"hidden sm:flex"},e.headerName))),r.a.createElement(i.a,{animation:"transition.slideRightIn",delay:300},r.a.createElement(o.a,{onClick:function(){"feereports"===e.routeName||e.routeName?t.push("/fee/feereports"):a(d.b.openNewDialog())},variant:"contained"},r.a.createElement("span",{className:"hidden sm:flex normal-case"},e.buttonDisplay?e.buttonDisplay:"Add New"),r.a.createElement("span",{className:"flex sm:hidden normal-case"},"New"))))}}}]);