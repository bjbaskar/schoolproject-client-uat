(this["webpackJsonpsivanandha-webapp"]=this["webpackJsonpsivanandha-webapp"]||[]).push([[17],{1054:function(e,a,t){"use strict";var n=t(11),r=t(77),l={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}};a.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.l.SET_SEARCH_TEXT:return Object(n.a)({},e,{searchText:a.searchText});case r.l.OPEN_NEW_DIALOG:return Object(n.a)({},e,{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case r.l.CLOSE_NEW_DIALOG:return Object(n.a)({},e,{dialog:{type:"new",props:{open:!1},data:null}});case r.l.OPEN_EDIT_DIALOG:return Object(n.a)({},e,{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.l.CLOSE_EDIT_DIALOG:return Object(n.a)({},e,{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}}},1056:function(e,a,t){"use strict";var n=t(44),r=t(11),l=t(77),o={data:[],dialog:{type:"edit",props:{open:!1},data:null,mode:null}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.h.OPEN_EDIT_DIALOG:return Object(r.a)({},e,{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case l.h.CLOSE_EDIT_DIALOG:return Object(r.a)({},e,{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},s={data:[],searchText:"",ayearDialog:{type:"edit",props:{open:!1},data:null,mode:null}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.n.SET_AYEAR_SEARCH_TEXT:return Object(r.a)({},e,{searchText:a.searchText});case l.n.OPEN_NEW_DIALOG:return Object(r.a)({},e,{ayearDialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case l.n.CLOSE_NEW_DIALOG:return Object(r.a)({},e,{ayearDialog:{type:"new",props:{open:!1},data:null}});case l.n.OPEN_EDIT_DIALOG:return Object(r.a)({},e,{ayearDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case l.n.CLOSE_EDIT_DIALOG:return Object(r.a)({},e,{ayearDialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},i={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.g.SET_EDU_SEARCH_TEXT:return Object(r.a)({},e,{searchText:a.searchText});case l.g.OPEN_NEW_DIALOG:return Object(r.a)({},e,{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case l.g.CLOSE_NEW_DIALOG:return Object(r.a)({},e,{dialog:{type:"new",props:{open:!1},data:null}});case l.g.OPEN_EDIT_DIALOG:return Object(r.a)({},e,{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case l.g.CLOSE_EDIT_DIALOG:return Object(r.a)({},e,{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},p={data:[],searchText:"",subjDialog:{type:"edit",props:{open:!1},data:null,mode:null}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.j.GET_SUBJECTS:return Object(r.a)({},e,{data:a.payload});case l.j.SET_SUBJECTS_SEARCH_TEXT:return Object(r.a)({},e,{searchText:a.searchText});case l.j.OPEN_NEW_DIALOG:return Object(r.a)({},e,{subjDialog:{type:"new",props:{open:!0},data:null}});case l.j.CLOSE_NEW_DIALOG:return Object(r.a)({},e,{subjDialog:{type:"new",props:{open:!1},data:null}});case l.j.OPEN_EDIT_DIALOG:return Object(r.a)({},e,{subjDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case l.j.CLOSE_EDIT_DIALOG:return Object(r.a)({},e,{subjDialog:{type:a.mode,props:{open:!1},data:null}});case l.j.SET_SUBJECTS_PAGINATION:return Object(r.a)({},e,{current:a.current,pageSize:a.pageSize});default:return e}},E={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.b.SET_SEARCH_TEXT:return Object(r.a)({},e,{searchText:a.searchText});case l.b.OPEN_DIALOG:return Object(r.a)({},e,{dialog:{props:{open:!0},data:a.data,mode:a.mode}});case l.b.CLOSE_DIALOG:return Object(r.a)({},e,{dialog:{props:{open:!1},data:null,mode:a.mode}});case l.b.SET_CLASS_SEC_PAGINATION:return Object(r.a)({},e,{current:a.current,pageSize:a.pageSize});case l.b.SET_SUBJECT_IDS:return Object(r.a)({},e,{subjectIds:a.subjectIds});default:return e}},y=t(1054),g={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.d.SET_DCONFIG_SEARCH_TEXT:return Object(r.a)({},e,{searchText:a.searchText});case l.d.OPEN_NEW_DIALOG:return Object(r.a)({},e,{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case l.d.CLOSE_NEW_DIALOG:return Object(r.a)({},e,{dialog:{type:"new",props:{open:!1},data:null}});case l.d.OPEN_EDIT_DIALOG:return Object(r.a)({},e,{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case l.d.CLOSE_EDIT_DIALOG:return Object(r.a)({},e,{dialog:{type:a.mode,props:{open:!1},data:null}});case l.d.CLOSE_ONLY_DIALOG:return Object(r.a)({},e,{dialog:{type:"close",props:{open:!1},data:null}});default:return e}},f={data:[],searchText:"",usertypeValue:"student",todoDialog:{type:"edit",props:{open:!1},data:null,mode:null}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.a.SET_SEARCH_TEXT:return Object(r.a)({},e,{searchText:a.searchText});case l.a.SET_USERLIST_USER_TYPE:return Object(r.a)({},e,{usertypeValue:a.usertypeValue});case l.a.OPEN_EDIT_RESET_DIALOG:return Object(r.a)({},e,{todoDialog:{type:"edit",props:{open:!0},data:a.data,mode:a.mode}});case l.a.CLOSE_EDIT_RESET_DIALOG:return Object(r.a)({},e,{todoDialog:{type:"edit",props:{open:!1},data:null}});case l.a.SET_USERLIST_PAGINATION:return Object(r.a)({},e,{current:a.current,pageSize:a.pageSize});default:return e}},h=Object(n.d)({schoolProfileReducer:c,ayearReducer:d,edusysReducer:u,subjectReducer:m,classReducer:O,txtReducer:y.a,dconfigReducer:b,users:_});a.a=h},1397:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(16),o=t(158),c=t(1056),s=t(1011),d=t(157),i=t(1036),u=t(8),p=t(77);var m=function(e){var a=Object(u.b)();return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between px-24"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(l.a,{animation:"transition.expandIn",delay:300},r.a.createElement(s.a,{className:"text-32 mr-12"},"cast_for_education")),r.a.createElement(l.a,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(d.a,{variant:"h6",className:"hidden sm:flex"},"Education System & Programme"))),r.a.createElement(l.a,{animation:"transition.slideRightIn",delay:300},r.a.createElement(i.a,{onClick:function(){a(p.g.openNewDialog())},variant:"contained"},r.a.createElement("span",{className:"hidden sm:flex normal-case"},"Add New Education Programme"),r.a.createElement("span",{className:"flex sm:hidden normal-case"},"New"))))},E=t(1030),O=t(963),y=t(221),g=t(1041),b=t(75);var f=function(){var e=Object(u.b)();return r.a.createElement("div",{className:"w-full flex flex-col"},r.a.createElement(l.n,{className:"flex-grow overflow-x-auto"},r.a.createElement(g.b,{query:p.f.getEduSystems},(function(a){var t=a.loading,n=a.error,l=a.data;if(n)return r.a.createElement("h1",null,"Error...");if(t||!l)return r.a.createElement(b.j,null);var o=l.getEduSystems;return r.a.createElement(y.b,{className:"-striped -highlight border-0 min-w-xl ",data:o,showPagination:!0,defaultSorted:[{id:"name",asc:!0}],columns:[{Header:"Name",accessor:"name",getProps:function(){return{style:{paddingLeft:"32px"}}}},{id:"levels",Header:"Levels",accessor:"levels"},{Header:"",sortable:!1,Cell:function(a){return r.a.createElement("div",{className:"flex items-center"},r.a.createElement(E.a,{title:"Edit Education System"},r.a.createElement(O.a,{onClick:function(t){t.stopPropagation(),e(p.g.openEditDialog(a.original,"edit"))}},r.a.createElement(s.a,null,"edit"))),r.a.createElement(E.a,{title:"Delete / Inactivate"},r.a.createElement(O.a,{onClick:function(t){t.stopPropagation(),e(p.g.openEditDialog(a.original,"delete"))}},r.a.createElement(s.a,null,"delete"))))}}]})}))))},_=t(11),h=t(10),v=t(1033),j=t(1027),S=t(1037),T=t(1038),D=t(1010),I=t(1039),N=t(218),x=t(109),L=t(82),A=t.n(L),C={id:"",name:"",levels:""};var w=function(e){var a=Object(u.b)(),t=Object(u.c)((function(e){return e.edusys.edusysReducer.dialog})),o=Object(n.useState)(p.f.editEduSystem),c=Object(h.a)(o,2),m=c[0],E=c[1],O=Object(n.useState)(!1),y=Object(h.a)(O,2),g=y[0],f=y[1],L=Object(x.b)(C),w=L.form,G=L.setForm,P=Object(n.useRef)(null),R=Object(N.c)(m,{onCompleted:function(e){e.data;z()}}),k=Object(h.a)(R,2),W=k[0],H=k[1],U=H.loading,X=H.error,q=Object(n.useCallback)((function(){var e;"edit"!==t.type&&"delete"!==t.type||!t.data||G(Object(_.a)({},t.data)),e="new"===t.type?p.f.addEduSystem:"edit"===t.type?p.f.editEduSystem:p.f.delEduSystem,E(e)}),[t.data,t.type,G]);Object(n.useEffect)((function(){return t.props.open&&q(),function(){G(C)}}),[t.props.open,q,G]);var z=function(){"edit"===t.type?a(p.g.closeEditDialog()):a(p.g.closeNewDialog())};return r.a.createElement(v.a,Object.assign({},t.props,{onClose:z,fullWidth:!0,maxWidth:"sm"}),r.a.createElement(j.a,{position:"static",elevation:1},r.a.createElement(S.a,{className:"flex w-full"},r.a.createElement(d.a,{variant:"subtitle1",color:"inherit"},"new"===t.type?"New Education System":"edit"===t.type?"Edit Education System":"Delete Education System"))),r.a.createElement(T.a,{classes:{root:"p-0"}},r.a.createElement("div",{className:"px-16 sm:px-24"},r.a.createElement(n.Fragment,null,r.a.createElement(A.a,{onValid:function(){f(!0)},onInvalid:function(){f(!1)},ref:P,onValidSubmit:function(e){"new"===t.type?W({variables:{name:e.name,levels:e.levels},refetchQueries:[{query:p.f.getEduSystems}]}):"edit"===t.type?W({variables:{id:w.id,name:e.name,levels:e.levels},refetchQueries:[{query:p.f.getEduSystems}]}):"delete"===t.type&&W({variables:{id:w.id},refetchQueries:[{query:p.f.getEduSystems}]})}},r.a.createElement("div",{className:"px-8 sm:px-8 mt-16 flex flex-col "},r.a.createElement(l.y,{className:"pr-8 mb-8 mt-8",type:"text",name:"name",label:"Name",value:w.name,validations:{maxLength:50},validationErrors:{maxLength:"You can not type in more than 50 characters"},InputProps:{endAdornment:r.a.createElement(D.a,{position:"end"},r.a.createElement(s.a,{className:"text-20",color:"action"},"check"))},variant:"outlined",required:!0}),r.a.createElement(l.y,{className:"pr-8 mb-8 mt-8",type:"text",name:"levels",label:"Level",value:w.levels,validations:{maxLength:50},validationErrors:{maxLength:"You can not type in more than 50 characters"},InputProps:{endAdornment:r.a.createElement(D.a,{position:"end"},r.a.createElement(s.a,{className:"text-20",color:"action"},"call_split"))},variant:"outlined",required:!0}))),U&&r.a.createElement(b.j,{message:"Saving data..."}),X&&r.a.createElement(d.a,{className:"pt-32"},"Error : Please try again! ",r.a.createElement("br",null),X.message," ",r.a.createElement("br",null))))),"new"===t.type&&r.a.createElement(I.a,{className:"justify-between pl-8 sm:pl-16"},r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:function(){z()}},"Close"),r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:function(){P.current.submit()},disabled:!g},"Add Academic Year")),"edit"===t.type&&r.a.createElement(I.a,{className:"justify-between pl-8 sm:pl-16"},r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:function(){z()}},"Close"),r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:function(){P.current.submit()},disabled:!g},"Save")),"delete"===t.type&&r.a.createElement(I.a,{className:"justify-between pl-8 sm:pl-16"},r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:function(){z()}},"Close"),r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:function(){P.current.submit()}},"Delete")))};a.default=Object(o.a)("edusys",c.a)((function(){var e=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.m,{classes:{contentWrapper:"p-0 h-full",content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-72 sm:min-h-72"},header:r.a.createElement(m,{pageLayout:e}),content:r.a.createElement(f,null),ref:e,innerScroll:!0}),r.a.createElement(w,null))}))}}]);