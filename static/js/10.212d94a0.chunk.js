(this["webpackJsonpsivanandha-webapp"]=this["webpackJsonpsivanandha-webapp"]||[]).push([[10],{1054:function(e,a,t){"use strict";var n=t(11),r=t(81),l={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}};a.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.l.SET_SEARCH_TEXT:return Object(n.a)({},e,{searchText:a.searchText});case r.l.OPEN_NEW_DIALOG:return Object(n.a)({},e,{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case r.l.CLOSE_NEW_DIALOG:return Object(n.a)({},e,{dialog:{type:"new",props:{open:!1},data:null}});case r.l.OPEN_EDIT_DIALOG:return Object(n.a)({},e,{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.l.CLOSE_EDIT_DIALOG:return Object(n.a)({},e,{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}}},1056:function(e,a,t){"use strict";var n=t(44),r=t(11),l=t(81),o={data:[],dialog:{type:"edit",props:{open:!1},data:null,mode:null}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.h.OPEN_EDIT_DIALOG:return Object(r.a)({},e,{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case l.h.CLOSE_EDIT_DIALOG:return Object(r.a)({},e,{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},s={data:[],searchText:"",ayearDialog:{type:"edit",props:{open:!1},data:null,mode:null}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.n.SET_AYEAR_SEARCH_TEXT:return Object(r.a)({},e,{searchText:a.searchText});case l.n.OPEN_NEW_DIALOG:return Object(r.a)({},e,{ayearDialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case l.n.CLOSE_NEW_DIALOG:return Object(r.a)({},e,{ayearDialog:{type:"new",props:{open:!1},data:null}});case l.n.OPEN_EDIT_DIALOG:return Object(r.a)({},e,{ayearDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case l.n.CLOSE_EDIT_DIALOG:return Object(r.a)({},e,{ayearDialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},d={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.g.SET_EDU_SEARCH_TEXT:return Object(r.a)({},e,{searchText:a.searchText});case l.g.OPEN_NEW_DIALOG:return Object(r.a)({},e,{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case l.g.CLOSE_NEW_DIALOG:return Object(r.a)({},e,{dialog:{type:"new",props:{open:!1},data:null}});case l.g.OPEN_EDIT_DIALOG:return Object(r.a)({},e,{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case l.g.CLOSE_EDIT_DIALOG:return Object(r.a)({},e,{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},u={data:[],searchText:"",subjDialog:{type:"edit",props:{open:!1},data:null,mode:null}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.j.GET_SUBJECTS:return Object(r.a)({},e,{data:a.payload});case l.j.SET_SUBJECTS_SEARCH_TEXT:return Object(r.a)({},e,{searchText:a.searchText});case l.j.OPEN_NEW_DIALOG:return Object(r.a)({},e,{subjDialog:{type:"new",props:{open:!0},data:null}});case l.j.CLOSE_NEW_DIALOG:return Object(r.a)({},e,{subjDialog:{type:"new",props:{open:!1},data:null}});case l.j.OPEN_EDIT_DIALOG:return Object(r.a)({},e,{subjDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case l.j.CLOSE_EDIT_DIALOG:return Object(r.a)({},e,{subjDialog:{type:a.mode,props:{open:!1},data:null}});case l.j.SET_SUBJECTS_PAGINATION:return Object(r.a)({},e,{current:a.current,pageSize:a.pageSize});default:return e}},b={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.b.SET_SEARCH_TEXT:return Object(r.a)({},e,{searchText:a.searchText});case l.b.OPEN_DIALOG:return Object(r.a)({},e,{dialog:{props:{open:!0},data:a.data,mode:a.mode}});case l.b.CLOSE_DIALOG:return Object(r.a)({},e,{dialog:{props:{open:!1},data:null,mode:a.mode}});case l.b.SET_CLASS_SEC_PAGINATION:return Object(r.a)({},e,{current:a.current,pageSize:a.pageSize});case l.b.SET_SUBJECT_IDS:return Object(r.a)({},e,{subjectIds:a.subjectIds});default:return e}},f=t(1054),v={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.d.SET_DCONFIG_SEARCH_TEXT:return Object(r.a)({},e,{searchText:a.searchText});case l.d.OPEN_NEW_DIALOG:return Object(r.a)({},e,{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case l.d.CLOSE_NEW_DIALOG:return Object(r.a)({},e,{dialog:{type:"new",props:{open:!1},data:null}});case l.d.OPEN_EDIT_DIALOG:return Object(r.a)({},e,{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case l.d.CLOSE_EDIT_DIALOG:return Object(r.a)({},e,{dialog:{type:a.mode,props:{open:!1},data:null}});case l.d.CLOSE_ONLY_DIALOG:return Object(r.a)({},e,{dialog:{type:"close",props:{open:!1},data:null}});default:return e}},y={data:[],searchText:"",usertypeValue:"student",todoDialog:{type:"edit",props:{open:!1},data:null,mode:null}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case l.a.SET_SEARCH_TEXT:return Object(r.a)({},e,{searchText:a.searchText});case l.a.SET_USERLIST_USER_TYPE:return Object(r.a)({},e,{usertypeValue:a.usertypeValue});case l.a.OPEN_EDIT_RESET_DIALOG:return Object(r.a)({},e,{todoDialog:{type:"edit",props:{open:!0},data:a.data,mode:a.mode}});case l.a.CLOSE_EDIT_RESET_DIALOG:return Object(r.a)({},e,{todoDialog:{type:"edit",props:{open:!1},data:null}});case l.a.SET_USERLIST_PAGINATION:return Object(r.a)({},e,{current:a.current,pageSize:a.pageSize});default:return e}},g=Object(n.d)({schoolProfileReducer:c,ayearReducer:i,edusysReducer:p,subjectReducer:m,classReducer:E,txtReducer:f.a,dconfigReducer:O,users:h});a.a=g},1269:function(e,a,t){"use strict";var n=t(2),r=t(5),l=t(0),o=t.n(l),c=(t(97),t(1),t(3)),s=t(9),i=o.a.forwardRef((function(e,a){var t=e.active,l=void 0!==t&&t,s=e.alternativeLabel,i=e.children,d=e.classes,p=e.className,u=e.completed,m=void 0!==u&&u,b=e.connector,E=e.disabled,f=void 0!==E&&E,v=e.index,O=e.last,y=e.orientation,h=Object(r.a)(e,["active","alternativeLabel","children","classes","className","completed","connector","disabled","index","last","orientation"]);return o.a.createElement("div",Object(n.a)({className:Object(c.default)(d.root,d[y],p,s&&d.alternativeLabel,m&&d.completed),ref:a},h),b&&s&&0!==v&&o.a.cloneElement(b,{orientation:y,alternativeLabel:s,index:v,active:l,completed:m,disabled:f}),o.a.Children.map(i,(function(e){return o.a.isValidElement(e)?o.a.cloneElement(e,Object(n.a)({active:l,alternativeLabel:s,completed:m,disabled:f,last:O,icon:v+1,orientation:y},e.props)):null})))}));a.a=Object(s.a)({root:{},horizontal:{paddingLeft:8,paddingRight:8},vertical:{},alternativeLabel:{flex:1,position:"relative"},completed:{}},{name:"MuiStep"})(i)},1378:function(e,a,t){"use strict";var n=t(2),r=t(5),l=t(0),o=t.n(l),c=(t(1),t(3)),s=t(9),i=t(157),d=t(58),p=Object(d.a)(o.a.createElement("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),u=Object(d.a)(o.a.createElement("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning"),m=t(518),b=o.a.createElement("circle",{cx:"12",cy:"12",r:"12"}),E=o.a.forwardRef((function(e,a){var t=e.completed,n=void 0!==t&&t,r=e.icon,l=e.active,s=void 0!==l&&l,i=e.error,d=void 0!==i&&i,E=e.classes;if("number"===typeof r||"string"===typeof r){var f=Object(c.default)(E.root,s&&E.active,d&&E.error,n&&E.completed);return d?o.a.createElement(u,{className:f,ref:a}):n?o.a.createElement(p,{className:f,ref:a}):o.a.createElement(m.a,{className:f,ref:a},b,o.a.createElement("text",{className:E.text,x:"12",y:"16",textAnchor:"middle"},r))}return r})),f=Object(s.a)((function(e){return{root:{display:"block",color:e.palette.text.disabled,"&$completed":{color:e.palette.primary.main},"&$active":{color:e.palette.primary.main},"&$error":{color:e.palette.error.main}},text:{fill:e.palette.primary.contrastText,fontSize:e.typography.caption.fontSize,fontFamily:e.typography.fontFamily},active:{},completed:{},error:{}}}),{name:"MuiStepIcon"})(E),v=o.a.forwardRef((function(e,a){var t=e.active,l=void 0!==t&&t,s=e.alternativeLabel,d=void 0!==s&&s,p=e.children,u=e.classes,m=e.className,b=e.completed,E=void 0!==b&&b,v=e.disabled,O=void 0!==v&&v,y=e.error,h=void 0!==y&&y,g=e.icon,j=(e.last,e.optional),N=e.orientation,S=void 0===N?"horizontal":N,_=e.StepIconComponent,x=e.StepIconProps,L=Object(r.a)(e,["active","alternativeLabel","children","classes","className","completed","disabled","error","icon","last","optional","orientation","StepIconComponent","StepIconProps"]),T=_;return g&&!T&&(T=f),o.a.createElement("span",Object(n.a)({className:Object(c.default)(u.root,u[S],m,O&&u.disabled,d&&u.alternativeLabel,h&&u.error),ref:a},L),g||T?o.a.createElement("span",{className:Object(c.default)(u.iconContainer,d&&u.alternativeLabel)},o.a.createElement(T,Object(n.a)({completed:E,active:l,error:h,icon:g},x))):null,o.a.createElement("span",{className:u.labelContainer},o.a.createElement(i.a,{variant:"body2",component:"span",className:Object(c.default)(u.label,d&&u.alternativeLabel,E&&u.completed,l&&u.active,h&&u.error),display:"block"},p),j))}));v.muiName="StepLabel";a.a=Object(s.a)((function(e){return{root:{display:"flex",alignItems:"center","&$alternativeLabel":{flexDirection:"column"},"&$disabled":{cursor:"default"}},horizontal:{},vertical:{},label:{color:e.palette.text.secondary,"&$active":{color:e.palette.text.primary,fontWeight:500},"&$completed":{color:e.palette.text.primary,fontWeight:500},"&$alternativeLabel":{textAlign:"center",marginTop:16},"&$error":{color:e.palette.error.main}},active:{},completed:{},error:{},disabled:{},iconContainer:{flexShrink:0,display:"flex",paddingRight:8,"&$alternativeLabel":{paddingRight:0}},alternativeLabel:{},labelContainer:{width:"100%"}}}),{name:"MuiStepLabel"})(v)},1379:function(e,a,t){"use strict";var n=t(2),r=t(5),l=t(0),o=t.n(l),c=(t(1),t(3)),s=t(9),i=t(194),d=o.a.forwardRef((function(e,a){var t=e.active,l=e.alternativeLabel,s=void 0!==l&&l,i=e.classes,d=e.className,p=e.completed,u=e.disabled,m=(e.index,e.orientation),b=void 0===m?"horizontal":m,E=Object(r.a)(e,["active","alternativeLabel","classes","className","completed","disabled","index","orientation"]);return o.a.createElement("div",Object(n.a)({className:Object(c.default)(i.root,i[b],d,s&&i.alternativeLabel,t&&i.active,p&&i.completed,u&&i.disabled),ref:a},E),o.a.createElement("span",{className:Object(c.default)(i.line,"vertical"===b?i.lineVertical:i.lineHorizontal)}))})),p=Object(s.a)((function(e){return{root:{flex:"1 1 auto"},horizontal:{},vertical:{marginLeft:12,padding:"0 0 8px"},alternativeLabel:{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"},active:{},completed:{},disabled:{},line:{display:"block",borderColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},lineHorizontal:{borderTopStyle:"solid",borderTopWidth:1},lineVertical:{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24}}}),{name:"MuiStepConnector"})(d),u=o.a.createElement(p,null),m=o.a.forwardRef((function(e,a){var t=e.activeStep,l=void 0===t?0:t,s=e.alternativeLabel,d=void 0!==s&&s,p=e.children,m=e.classes,b=e.className,E=e.connector,f=void 0===E?u:E,v=e.nonLinear,O=void 0!==v&&v,y=e.orientation,h=void 0===y?"horizontal":y,g=Object(r.a)(e,["activeStep","alternativeLabel","children","classes","className","connector","nonLinear","orientation"]),j=o.a.isValidElement(f)?o.a.cloneElement(f,{orientation:h}):null,N=o.a.Children.toArray(p),S=N.map((function(e,a){var t={alternativeLabel:d,connector:f,last:a+1===N.length,orientation:h},r={index:a,active:!1,completed:!1,disabled:!1};return l===a?r.active=!0:!O&&l>a?r.completed=!0:!O&&l<a&&(r.disabled=!0),[!d&&j&&0!==a&&o.a.cloneElement(j,Object(n.a)({key:a},r)),o.a.cloneElement(e,Object(n.a)({},t,{},r,{},e.props))]}));return o.a.createElement(i.a,Object(n.a)({square:!0,elevation:0,className:Object(c.default)(m.root,m[h],b,d&&m.alternativeLabel),ref:a},g),S)}));a.a=Object(s.a)({root:{display:"flex",padding:24},horizontal:{flexDirection:"row",alignItems:"center"},vertical:{flexDirection:"column"},alternativeLabel:{alignItems:"flex-start"}},{name:"MuiStepper"})(m)},1396:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(18),o=t(158),c=t(1056),s=t(1011),i=t(157);var d=function(e){return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between px-24"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(l.a,{animation:"transition.expandIn",delay:300},r.a.createElement(s.a,{className:"text-32 mr-12"},"how_to_reg")),r.a.createElement(l.a,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(i.a,{variant:"h6",className:"hidden sm:flex"},"Create an Account"))))},p=t(11),u=t(10),m=t(1026),b=t(1042),E=t(1379),f=t(1269),v=t(1378),O=t(1024),y=t(1045),h=t(1010),g=t(1036),j=t(217),N=t(8),S=t(22),_=t(82),x=t.n(_),L=t(109),T=t(75),I=t(138),D=t(32),w=t(1013),A=t(965),C=t(1018),R=t(1040),G=t(1046),P=t(93);var z=function(e){var a=e.userId,t=e.userType,l=e.userName,o=e.displayName,c=Object(N.b)(),s=Object(P.g)(),i=Object(n.useState)([]),d=Object(u.a)(i,2),p=d[0],m=d[1],b=Object(j.b)(I.d),E=Object(u.a)(b,2),f=E[0],v=E[1],O=v.loading,y=(v.error,v.data),h=Object(j.c)(I.e,{onCompleted:function(e){e&&e.rolesAddToUser&&(c(S.j({message:"Roles added to user successfully.",variant:"success"})),s.push({pathname:"/users/list"}))}}),_=Object(u.a)(h,2),x=_[0],L=_[1];L.loading,L.error,Object(n.useEffect)((function(){f()}),[]);var z=function(e){return function(){var a=p.indexOf(e.id),t=Object(D.a)(p);-1===a?t.push(e.id):t.splice(a,1),m(t)}};return O&&!y?r.a.createElement(T.i,null):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"table-responsive w-1/2"},r.a.createElement("table",{className:"simple"},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"student"===t?"Student Name":"Staff Name"),r.a.createElement("td",{className:"font-bold text-red"},o)),r.a.createElement("tr",null,r.a.createElement("td",null,"User Name"),r.a.createElement("td",{className:"font-bold text-red"},l))))),r.a.createElement(w.a,{dense:!0},y&&y.roleList.map((function(e){return r.a.createElement(A.a,{key:e.id,button:!0,onClick:z(e)},r.a.createElement(C.a,{primary:e.rolename}),r.a.createElement(R.a,null,r.a.createElement(G.a,{checked:-1!==p.indexOf(e.id),tabIndex:-1,onChange:z(e)})))}))),r.a.createElement(g.a,{className:"whitespace-no-wrap normal-case ml-24",variant:"contained",color:"primary",onClick:function(){x({variables:{userId:a,roleIds:p}})}},"Assign Roles"))},k={canSubmit:!1,usertype:"student",students:"",staff:"",username:"",password:"",displayName:""};var W=function(e){var a=Object(N.b)(),t=Object(n.useRef)(null),o=Object(n.useState)(0),c=Object(u.a)(o,2),i=c[0],d=c[1],_=Object(n.useState)(!1),D=Object(u.a)(_,2),w=D[0],A=D[1],C=Object(L.b)(k),R=C.form,G=C.setForm,P=C.setInForm,W=Object(n.useState)(null),U=Object(u.a)(W,2),F=U[0],H=U[1],$=Object(j.c)(I.b,{onCompleted:function(e){if(e&&e.registerUser){a(S.j({message:"User registered successfully. Please Assign roles",variant:"success"}));var t=e.registerUser.id;H(t),J()}}}),q=Object(u.a)($,2),V=q[0],M=q[1],X=(M.loading,M.error,function(e,a){P(a,e.value),P("displayName",e.label)}),J=function(){d((function(e){return e+1}))};return r.a.createElement("div",{className:"flex flex-col flex-1 flex-no-shrink p-24 md:flex-row md:p-0 w-full"},r.a.createElement(m.a,{className:"w-full mx-auto m-16 md:m-0"},r.a.createElement(b.a,{className:"flex flex-col items-center justify-center"},r.a.createElement(E.a,{alternativeLabel:!0,activeStep:i,className:"w-1/2 mb-24"},r.a.createElement(f.a,{key:"basicinfo"},r.a.createElement(v.a,null,"User Registration")),r.a.createElement(f.a,{key:"parents"},r.a.createElement(v.a,null,"Assign Roles"))),0===i&&r.a.createElement(x.a,{onValidSubmit:function(e){var a=null,t=null;"student"===e.usertype?a=R.students:"staff"===e.usertype&&(t=R.staff);var n={username:e.username,password:e.password,usertype:e.usertype,staff:t,students:a};G(Object(p.a)({},n,{displayName:R.displayName})),V({variables:n})},onValid:function(){A(!0)},onInvalid:function(){A(!1)},ref:t,className:"flex flex-col justify-center items-center w-full"},r.a.createElement(l.x,{className:"mb-16 items-start",row:!0,"aria-label":"usertype",name:"usertype",value:R.usertype,onChange:function(e){P("usertype",e.target.value)},required:!0},r.a.createElement(O.a,{value:"student",control:r.a.createElement(y.a,{color:"primary"}),label:"Student",labelPlacement:"end"}),r.a.createElement(O.a,{value:"staff",control:r.a.createElement(y.a,{color:"secondary"}),label:"Staff",labelPlacement:"end"})),"student"===R.usertype&&r.a.createElement(T.d,{label:"Select Student",cssClass:"mb-16",onDDChange:X}),"staff"===R.usertype&&r.a.createElement(T.k,{itemName:R.staff,optionName:"staff",label:"Select Class Teacher",cssClass:"w-1/2 mb-16",onDDChange:X}),r.a.createElement(l.y,{className:"mb-16 w-1/2",type:"text",name:"username",label:"User Name",validationErrors:{isEmail:"Please enter a valid user name"},InputProps:{endAdornment:r.a.createElement(h.a,{position:"end"},r.a.createElement(s.a,{className:"text-20",color:"action"}))},variant:"outlined",required:!0}),r.a.createElement(l.y,{className:"mb-16 w-1/2",type:"password",name:"password",label:"Password",validations:"equalsField:password-confirm",validationErrors:{equalsField:"Passwords do not match"},InputProps:{endAdornment:r.a.createElement(h.a,{position:"end"},r.a.createElement(s.a,{className:"text-20",color:"action"}))},variant:"outlined",required:!0}),r.a.createElement(l.y,{className:"mb-16 w-1/2",type:"password",name:"password-confirm",label:"Confirm Password",validations:"equalsField:password",validationErrors:{equalsField:"Passwords do not match"},InputProps:{endAdornment:r.a.createElement(h.a,{position:"end"},r.a.createElement(s.a,{className:"text-20",color:"action"}))},variant:"outlined",required:!0}),r.a.createElement(g.a,{variant:"contained",color:"primary",className:"mx-auto mt-16 normal-case","aria-label":"Register",disabled:!w,onClick:function(){t.current.submit()}},"Register")),1===i&&r.a.createElement("div",{className:"flex flex-col items-center w-full"},r.a.createElement(z,{userName:R.username,displayName:R.displayName,userType:R.usertype,userId:F})))))};a.default=Object(o.a)("users",c.a)((function(e){var a=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(l.m,{classes:{contentWrapper:"p-0 h-full",content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-72 sm:min-h-72"},header:r.a.createElement(d,{pageLayout:a}),content:r.a.createElement(W,e),ref:a,innerScroll:!0}))}))}}]);