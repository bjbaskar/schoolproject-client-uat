(this["webpackJsonpsivanandha-webapp"]=this["webpackJsonpsivanandha-webapp"]||[]).push([[24],{1113:function(e,a,t){"use strict";var n={};t.r(n),t.d(n,"GET_STUDENT",(function(){return o})),t.d(n,"GET_DISPLAY_NAME",(function(){return s})),t.d(n,"OPEN_PARENTS_DIALOG",(function(){return i})),t.d(n,"CLOSE_PARENTS_DIALOG",(function(){return d})),t.d(n,"OPEN_PHOTO_DIALOG",(function(){return m})),t.d(n,"CLOSE_PHOTO_DIALOG",(function(){return u})),t.d(n,"showAlertMessage",(function(){return p})),t.d(n,"openUploadDialog",(function(){return f})),t.d(n,"closeUploadDialog",(function(){return E})),t.d(n,"getStudent",(function(){return g})),t.d(n,"getDisplayName",(function(){return N})),t.d(n,"openParentsDialog",(function(){return h})),t.d(n,"closeDialog",(function(){return O}));var r=t(44),l=t(11),c=t(46),o="[STUDENTS] GET STUDENT",s="[STUDENTS] GET DISPLAY STUDENT",i="[STUDENTS] OPEN PARENTS DIALOG",d="[STUDENTS] CLOSE PARENTS DIALOG",m="[STUDENTS] OPEN PHOTO DIALOG",u="[STUDENTS] CLOSE PHOTO DIALOG";function p(e,a){return function(t){return t(Object(c.B)({message:e,variant:a}))}}function f(){return{type:m}}function E(){return{type:u}}function g(e){return function(a){return a({type:o,payload:e})}}function N(e){return function(a){return a({type:s,payload:e})}}function h(e,a,t){return{type:i,data:e,mode:a,relation:t}}function O(){return{type:d}}t(378);var b={displayName:"",sDialog:{type:"edit",props:{open:!1},data:null,mode:null,relation:"Father"}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case n.GET_STUDENT:return Object(l.a)({},e,{data:a.payload});case n.GET_DISPLAY_NAME:return Object(l.a)({},e,{displayName:a.payload});case n.OPEN_PARENTS_DIALOG:return Object(l.a)({},e,{sDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode,relation:a.relation}});case n.CLOSE_PARENTS_DIALOG:return Object(l.a)({},e,{sDialog:{type:a.mode,props:{open:!1},data:null,mode:null,relation:null}});case n.OPEN_PHOTO_DIALOG:return Object(l.a)({},e,{sDialog:{type:"new",props:{open:!0},data:null}});case n.CLOSE_PHOTO_DIALOG:return Object(l.a)({},e,{sDialog:{type:"new",props:{open:!1},data:null}});default:return e}},y=Object(r.d)({studentsReducer:S});a.a=y},1405:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(16),c=t(158),o=t(1113),s=t(1011),i=t(157),d=t(1036),m=t(36),u=function(){return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between px-24"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(l.a,{animation:"transition.expandIn",delay:300},r.a.createElement(s.a,{className:"text-32 mr-12"},"how_to_reg")),r.a.createElement(l.a,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(i.a,{variant:"h6",className:"hidden sm:flex"},"Students"))),r.a.createElement(l.a,{animation:"transition.slideRightIn",delay:300},r.a.createElement(d.a,{component:m.a,to:"/students/new",className:"whitespace-no-wrap normal-case",variant:"contained"},r.a.createElement("span",{className:"hidden sm:flex"},"New Admission"),r.a.createElement("span",{className:"flex sm:hidden"},"New"))))},p=t(32),f=t(11),E=t(10),g=t(1031),N=t(1030),h=t(963),O=t(221),b=t(64),S=t.n(b),y=t(218),x=(t(8),t(497)),T=t(378),D=t(75),v=function(e,a,t){return"page"===a?r.a.createElement("a",null,e):"prev"===a?r.a.createElement(d.a,{"aria-label":"prev",edge:"end",color:"primary",style:{paddingTop:"2px"}},r.a.createElement(s.a,{className:"mr-8",color:"action"},"chevron_left"),r.a.createElement("span",{className:"text-13"},"Prev")):"next"===a?r.a.createElement(d.a,{"aria-label":"next",edge:"end",color:"primary",style:{paddingTop:"2px"}},r.a.createElement("span",{className:"text-13"},"Next"),r.a.createElement(s.a,{className:"ml-8",color:"action"},"chevron_right")):t},A={current:1,total:0,pageSize:10,sorted:"stud.firstname",isAsc:"ASC",classId:"ALL",genderId:"ALL",textId:""};var I=function(e){var a,t,c=Object(n.useState)(A),o=Object(E.a)(c,2),i=o[0],u=o[1],b=Object(y.d)(T.h,{variables:{pageNo:i.current,pageSize:i.pageSize,sortCol:i.sorted,isAsc:i.isAsc,classId:i.classId,genderId:i.genderId,textId:i.textId}}),I=b.loading,w=(b.error,b.data),L=(w=void 0===w?{}:w).studentList,_=void 0===L?{}:L,P=(b.refetch,function(e,a){"class_section"===a&&(a="classId"),u((function(t){return Object.assign(Object(f.a)({},t,Object(p.a)({},a,e.value)))}))}),C=(a=_.rows,0===(t="").length?a:l.v.filterArrayByString(a,t)),j=_.count;return r.a.createElement("div",{className:"w-full flex flex-col"},r.a.createElement("div",{className:"flex md:flex-row sm:flex-col xs:flex-col mt-8"},r.a.createElement(D.c,{formName:i.classId,onDDChange:P,label:"Search by Class & Section",showAll:!0,cssClass:"w-1/4 my-8 mr-8 ml-32"}),r.a.createElement(D.h,{formName:i.genderId,onDDChange:P,label:"Search by Gender",showAll:!0,cssClass:"w-1/4 m-8"}),r.a.createElement(g.a,{className:"mt-0 w-1/4",type:"text",name:"sTextId",label:"Search",defaultValue:"",placeholder:"Search ",fullWidth:!0,margin:"normal"}),r.a.createElement(d.a,{className:"ml-8","aria-label":"Search",edge:"end",color:"primary",onClick:function(e){return function(e,a){var t=document.getElementsByName("sTextId")[0].value.trim();u((function(e){return Object.assign(Object(f.a)({},e,{textId:t}))})),document.getElementsByName("sTextId")[0].select()}()}},r.a.createElement("span",{className:"text-13"},"Find"),r.a.createElement(s.a,{className:"ml-8",color:"action"},"search")),r.a.createElement(d.a,{className:"ml-8","aria-label":"Clear",edge:"end",color:"primary",onClick:function(){u(A)}},r.a.createElement("span",{className:"text-13"},"Clear"),r.a.createElement(s.a,{className:"ml-8",color:"action"},"clear_all"))),r.a.createElement(l.n,{className:"flex-grow overflow-x-auto"},r.a.createElement(O.b,{className:"-highlight min-w-xl",data:C,loading:I,showPagination:!1,defaultPageSize:10,columns:[{id:"firstname",Header:"First Name",accessor:"firstname",getProps:function(){return{style:{paddingLeft:"32px"}}},Cell:function(e){return r.a.createElement("div",null,"male"===e.original.gender?r.a.createElement("i",{className:"inline-block w-6 h-6 rounded mx-8 bg-blue"}):r.a.createElement("i",{className:"inline-block w-6 h-6 rounded mx-8 bg-red"}),"".concat(e.original.firstname," ").concat(e.original.lastname))}},{id:"classname",Header:"Class Section",Cell:function(e){return e.original.classsec.length?e.original.classsec.map((function(e){return e.name+" "+e.section})):""}},{id:"dob",Header:"DOB",accessor:"dob",Cell:function(e){return S()(e.original.dob).format("D MMMM YYYY")}},{id:"parentsfirstname",Header:"Father's name",Cell:function(e){return e.original.parents.map((function(e){return e.fathername}))}},{id:"updatedby",Header:"Last Updated by",accessor:function(e){return e.updatedby?e.updatedby:e.createdby},Cell:function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(N.a,{title:e.original.updatedon?S()(e.original.updatedon).format("MMMM Do YYYY, h:mm:ss a"):S()(e.original.createdon).format("MMMM Do YYYY, h:mm:ss a"),"aria-label":e.original.createdon},r.a.createElement("div",null,e.original.updatedby?e.original.updatedby:e.original.createdby)))}},{id:"action",Header:"",sortable:!1,Cell:function(e){return r.a.createElement("div",{className:"flex items-center"},r.a.createElement(N.a,{title:"Edit"},r.a.createElement(h.a,{className:"p-4",component:m.a,to:"/students/view/".concat(e.original.id)},r.a.createElement(s.a,null,"edit"))))}}]})),r.a.createElement(x.a,{className:"flex flex-row items-center justify-center my-40",total:j,itemRender:v,onChange:function(e){u((function(a){return Object.assign(Object(f.a)({},a,{current:e}))}))},current:i.current,showTotal:function(e,a){return"".concat(a[0]," - ").concat(a[1]," of ").concat(e," Students")},defaultPageSize:i.pageSize,pageSize:i.pageSize}))};a.default=Object(c.a)("students",o.a)((function(e){var a=Object(n.useRef)(null);return r.a.createElement(n.Fragment,null,r.a.createElement(l.m,{classes:{contentWrapper:"p-0 h-full",content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-72 sm:min-h-72"},header:r.a.createElement(u,{pageLayout:a}),content:r.a.createElement(I,e),ref:a,innerScroll:!0}))}))}}]);