(this["webpackJsonpsivanandha-vidyashram-seithur"]=this["webpackJsonpsivanandha-vidyashram-seithur"]||[]).push([[32],{1382:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(16),l=t(195),o=t(826),i=t(757),d=t(812),s=t(11),u=t(192),p=t(70),m=t(60);var E=function(){var e=Object(s.b)(),a=Object(s.c)((function(e){return e.master.dconfigReducer.searchText})),t=Object(s.c)((function(e){return e.master.dconfigReducer.dialog})),l=Object(u.d)(m.e.getAllDataconfigs),E=l.loading,O=l.error,b=l.data,f=l.refetch;if(Object(n.useEffect)((function(){t.props.open||f()}),[t.props.open,f]),O)return r.a.createElement("h1",null,"Error...");if(E||!b)return r.a.createElement(p.s,null);var g=function(e,a){return 0===a.length?e:c.u.filterArrayByString(e,a)}(b.getAllDataconfigs,a.trim());return r.a.createElement(p.o,{data:g,hasExport:!0,exportMode:"DATA",columns:[{id:"cname",Header:"Config Name",accessor:"name",getProps:function(){return{style:{paddingLeft:"32px"}}}},{id:"value",Header:"Value",accessor:"value"},{id:"edit",Header:"",sortable:!1,Cell:function(a){return r.a.createElement("div",{className:"flex items-center"},r.a.createElement(o.a,{title:"Add Config"},r.a.createElement(i.a,{onClick:function(t){t.stopPropagation(),e(m.d.openNewDialog(a.row.original,"add"))}},r.a.createElement(d.a,null,"add"))),r.a.createElement(o.a,{title:"Edit Config"},r.a.createElement(i.a,{onClick:function(t){t.stopPropagation(),e(m.d.openEditDialog(a.row.original,"edit"))}},r.a.createElement(d.a,null,"edit"))),r.a.createElement(o.a,{title:"Delete / Inactivate"},r.a.createElement(i.a,{onClick:function(t){t.stopPropagation(),e(m.d.openEditDialog(a.row.original,"delete"))}},r.a.createElement(d.a,null,"delete"))))}}]})},O=t(174),b=t(173),f=t(758),g=t(804);var j=function(){var e=Object(s.b)(),a=Object(s.c)((function(e){return e.master.dconfigReducer.searchText})),t=Object(s.c)((function(e){return e.fuse.settings.mainTheme}));return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between px-24"},r.a.createElement("div",{className:"flex flex-shrink items-center "},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(c.a,{animation:"transition.expandIn",delay:300},r.a.createElement(d.a,{className:"text-32 mr-12"},"perm_data_setting")),r.a.createElement(c.a,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(O.a,{variant:"h6",className:"hidden sm:flex"},"Data Configuration")))),r.a.createElement("div",{className:"flex flex-1 items-center justify-center px-12 flex-col"},r.a.createElement(g.a,{theme:t},r.a.createElement(c.a,{animation:"transition.slideDownIn",delay:300},r.a.createElement(b.a,{className:"flex items-center w-full max-w-512 px-8 py-4 rounded-8",elevation:1},r.a.createElement(d.a,{className:"mr-8",color:"action"},"search"),r.a.createElement(f.a,{placeholder:"Search Configuration",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(a){return e(m.d.setDConfigSearchText(a))}}))))))},h=t(8),y=t(10),v=t(829),_=t(823),D=t(833),x=t(834),C=t(836),T=t(835),N=t(832),S=t(79),I=t.n(S),A=t(101),L={id:"",name:"",value:""};var w=function(){var e,a,t=Object(s.b)(),l=Object(n.useRef)(null),o=Object(s.c)((function(e){return e.master.dconfigReducer.dialog})),i=Object(A.b)(L),E=i.form,b=i.setForm,f=Object(n.useState)(!1),g=Object(y.a)(f,2),j=g[0],S=g[1];"new"===o.type?(e=m.e.addDataConfig,a=""):"edit"===o.type?(e=m.e.editDataConfig,a=E.value):(e=m.e.delDataConfig,a=E.value);var w=Object(u.c)(e,{onCompleted:function(e){e.data;J()}}),G=Object(y.a)(w,2),P=G[0],R=G[1],k=R.loading,W=R.error,H=Object(n.useCallback)((function(){b(Object(h.a)({},o.data))}),[o.data,b]);Object(n.useEffect)((function(){o.props.open&&H()}),[o.props.open,H]);var J=function(){"edit"===o.type?t(m.d.closeEditDialog()):t(m.d.closeNewDialog())};return r.a.createElement(v.a,Object.assign({},o.props,{onClose:J,fullWidth:!0,maxWidth:"sm"}),r.a.createElement(_.a,{position:"static",elevation:1},r.a.createElement(D.a,{className:"flex w-full"},r.a.createElement(O.a,{variant:"subtitle1",color:"inherit"},"new"===o.type?"New Config":"edit"===o.type?"Edit Config":"Delete Config"))),r.a.createElement(x.a,{classes:{root:"p-0"}},r.a.createElement(n.Fragment,null,r.a.createElement(I.a,{onValid:function(){S(!0)},onInvalid:function(){S(!1)},ref:l,onValidSubmit:function(e){"new"===o.type?P({variables:{name:e.name,value:e.value}}):"edit"===o.type?P({variables:{id:E.id,name:e.name,value:e.value}}):"delete"===o.type&&P({variables:{id:E.id}})}},r.a.createElement("div",{className:"px-8 sm:px-8 mt-16 flex flex-col items-center justify-center"},r.a.createElement(c.x,{className:"pr-8 mb-8",type:"text",name:"name",label:"Config Name",value:E.name,validations:{maxLength:20},validationErrors:{maxLength:"You can not type in more than 20 characters"},InputProps:{endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(d.a,{className:"text-20",color:"action"},"event_note"))},variant:"filled",readonly:!0,disabled:!0,required:!0}),r.a.createElement(c.x,{className:"pr-8 mb-8",type:"text",name:"value",label:"Config Value",value:a,validations:{maxLength:30},validationErrors:{maxLength:"You can not type in more than 30 characters"},InputProps:{endAdornment:r.a.createElement(C.a,{position:"end"},r.a.createElement(d.a,{className:"text-20",color:"action"},"wc"))},variant:"outlined",required:!0}))),k&&r.a.createElement(p.s,{message:"Saving data..."}),W&&r.a.createElement(O.a,{className:"pt-32"},"Error : Please try again! ",r.a.createElement("br",null),W.message," ",r.a.createElement("br",null)))),"new"===o.type&&r.a.createElement(T.a,{className:"justify-between pl-8 sm:pl-16"},r.a.createElement(N.a,{variant:"contained",color:"primary",onClick:function(){J()}},"Close"),r.a.createElement(N.a,{variant:"contained",color:"primary",onClick:function(){l.current.submit()},disabled:!j},"Add Config")),"edit"===o.type&&r.a.createElement(T.a,{className:"justify-between pl-8 sm:pl-16"},r.a.createElement(N.a,{variant:"contained",color:"primary",onClick:function(){J()}},"Close"),r.a.createElement(N.a,{variant:"contained",color:"primary",onClick:function(){l.current.submit()},disabled:!j},"Save")),"delete"===o.type&&r.a.createElement(T.a,{className:"justify-between pl-8 sm:pl-16"},r.a.createElement(N.a,{variant:"contained",color:"primary",onClick:function(){J()}},"Close"),r.a.createElement(N.a,{variant:"contained",color:"primary",onClick:function(){l.current.submit()}},"Delete")))},G=t(877);a.default=Object(l.a)("master",G.a)((function(){var e=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.m,{classes:{contentWrapper:"p-0 h-full",content:"flex flex-col h-full",header:"min-h-72 h-72"},header:r.a.createElement(j,{pageLayout:e}),content:r.a.createElement(E,null),onRef:e,innerScroll:!0}),r.a.createElement(w,null))}))},877:function(e,a,t){"use strict";var n=t(47),r=t(8),c=t(60),l={data:[],dialog:{type:"edit",props:{open:!1},data:null,mode:null}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c.h.OPEN_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case c.h.CLOSE_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},i={data:[],searchText:"",ayearDialog:{type:"edit",props:{open:!1},data:null,mode:null}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c.n.SET_AYEAR_SEARCH_TEXT:return Object(r.a)(Object(r.a)({},e),{},{searchText:a.searchText});case c.n.OPEN_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{ayearDialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case c.n.CLOSE_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{ayearDialog:{type:"new",props:{open:!1},data:null}});case c.n.OPEN_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{ayearDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case c.n.CLOSE_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{ayearDialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},s={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c.g.SET_EDU_SEARCH_TEXT:return Object(r.a)(Object(r.a)({},e),{},{searchText:a.searchText});case c.g.OPEN_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case c.g.CLOSE_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:"new",props:{open:!1},data:null}});case c.g.OPEN_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case c.g.CLOSE_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},p={data:[],searchText:"",subjDialog:{type:"edit",props:{open:!1},data:null,mode:null}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c.j.GET_SUBJECTS:return Object(r.a)(Object(r.a)({},e),{},{data:a.payload});case c.j.SET_SUBJECTS_SEARCH_TEXT:return Object(r.a)(Object(r.a)({},e),{},{searchText:a.searchText});case c.j.OPEN_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{subjDialog:{type:"new",props:{open:!0},data:null}});case c.j.CLOSE_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{subjDialog:{type:"new",props:{open:!1},data:null}});case c.j.OPEN_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{subjDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case c.j.CLOSE_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{subjDialog:{type:a.mode,props:{open:!1},data:null}});case c.j.SET_SUBJECTS_PAGINATION:return Object(r.a)(Object(r.a)({},e),{},{current:a.current,pageSize:a.pageSize});default:return e}},E={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c.b.SET_SEARCH_TEXT:return Object(r.a)(Object(r.a)({},e),{},{searchText:a.searchText});case c.b.OPEN_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{props:{open:!0},data:a.data,mode:a.mode}});case c.b.CLOSE_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{props:{open:!1},data:null,mode:a.mode}});case c.b.SET_CLASS_SEC_PAGINATION:return Object(r.a)(Object(r.a)({},e),{},{current:a.current,pageSize:a.pageSize});case c.b.SET_SUBJECT_IDS:return Object(r.a)(Object(r.a)({},e),{},{subjectIds:a.subjectIds});default:return e}},b={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c.d.SET_DCONFIG_SEARCH_TEXT:return Object(r.a)(Object(r.a)({},e),{},{searchText:a.searchText});case c.d.OPEN_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case c.d.CLOSE_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:"new",props:{open:!1},data:null}});case c.d.OPEN_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case c.d.CLOSE_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:a.mode,props:{open:!1},data:null}});case c.d.CLOSE_ONLY_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:"close",props:{open:!1},data:null}});default:return e}},g=Object(n.d)({schoolProfileReducer:o,ayearReducer:d,edusysReducer:u,subjectReducer:m,classReducer:O,dconfigReducer:f});a.a=g}}]);