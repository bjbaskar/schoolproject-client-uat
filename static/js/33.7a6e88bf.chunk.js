(this["webpackJsonpsivanandha-vidyashram-seithur"]=this["webpackJsonpsivanandha-vidyashram-seithur"]||[]).push([[33],{1380:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(16),l=t(195),o=t(877),d=t(812),s=t(174),i=t(832),u=t(11),m=t(60);var p=function(e){var a=Object(u.b)();return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between px-24"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(c.a,{animation:"transition.expandIn",delay:300},r.a.createElement(d.a,{className:"text-32 mr-12"},"cast_for_education")),r.a.createElement(c.a,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(s.a,{variant:"h6",className:"hidden sm:flex"},"Education System & Programme"))),r.a.createElement(c.a,{animation:"transition.slideRightIn",delay:300},r.a.createElement(i.a,{onClick:function(){a(m.g.openNewDialog())},variant:"contained"},r.a.createElement("span",{className:"hidden sm:flex normal-case"},"Add New Education Programme"),r.a.createElement("span",{className:"flex sm:hidden normal-case"},"New"))))},E=t(826),b=t(757),O=t(846),j=t(70);var y=function(){var e=Object(u.b)();return r.a.createElement("div",{className:"w-full flex flex-col"},r.a.createElement(O.b,{query:m.f.getEduSystems},(function(a){var t=a.loading,n=a.error,c=a.data;if(n)return r.a.createElement("h1",null,"Error...");if(t||!c)return r.a.createElement(j.s,null);var l=c.getEduSystems;return r.a.createElement(j.o,{data:l,hasExport:!0,exportMode:"DATA",columns:[{id:"hname",Header:"Name",accessor:"name",getProps:function(){return{style:{paddingLeft:"32px"}}}},{id:"levels",Header:"Levels",accessor:"levels"},{id:"edit",Header:"",sortable:!1,Cell:function(a){return r.a.createElement("div",{className:"flex items-center"},r.a.createElement(E.a,{title:"Edit Education System"},r.a.createElement(b.a,{onClick:function(t){t.stopPropagation(),e(m.g.openEditDialog(a.row.original,"edit"))}},r.a.createElement(d.a,null,"edit"))),r.a.createElement(E.a,{title:"Delete / Inactivate"},r.a.createElement(b.a,{onClick:function(t){t.stopPropagation(),e(m.g.openEditDialog(a.row.original,"delete"))}},r.a.createElement(d.a,null,"delete"))))}}]})})))},f=t(8),g=t(10),v=t(829),h=t(823),_=t(833),S=t(834),D=t(836),T=t(835),x=t(192),N=t(101),I=t(79),L=t.n(I),A={id:"",name:"",levels:""};var C=function(e){var a=Object(u.b)(),t=Object(u.c)((function(e){return e.master.edusysReducer.dialog})),l=Object(n.useState)(m.f.editEduSystem),o=Object(g.a)(l,2),p=o[0],E=o[1],b=Object(n.useState)(!1),O=Object(g.a)(b,2),y=O[0],I=O[1],C=Object(N.b)(A),w=C.form,G=C.setForm,P=Object(n.useRef)(null),R=Object(x.c)(p,{onCompleted:function(e){e.data;X()}}),k=Object(g.a)(R,2),W=k[0],H=k[1],q=H.loading,J=H.error,U=Object(n.useCallback)((function(){var e;"edit"!==t.type&&"delete"!==t.type||!t.data||G(Object(f.a)({},t.data)),e="new"===t.type?m.f.addEduSystem:"edit"===t.type?m.f.editEduSystem:m.f.delEduSystem,E(e)}),[t.data,t.type,G]);Object(n.useEffect)((function(){return t.props.open&&U(),function(){G(A)}}),[t.props.open,U,G]);var X=function(){"edit"===t.type?a(m.g.closeEditDialog()):a(m.g.closeNewDialog())};return r.a.createElement(v.a,Object.assign({},t.props,{onClose:X,fullWidth:!0,maxWidth:"sm"}),r.a.createElement(h.a,{position:"static",elevation:1},r.a.createElement(_.a,{className:"flex w-full"},r.a.createElement(s.a,{variant:"subtitle1",color:"inherit"},"new"===t.type?"New Education System":"edit"===t.type?"Edit Education System":"Delete Education System"))),r.a.createElement(S.a,{classes:{root:"p-0"}},r.a.createElement("div",{className:"px-16 sm:px-24"},r.a.createElement(n.Fragment,null,r.a.createElement(L.a,{onValid:function(){I(!0)},onInvalid:function(){I(!1)},ref:P,onValidSubmit:function(e){"new"===t.type?W({variables:{name:e.name,levels:e.levels},refetchQueries:[{query:m.f.getEduSystems}]}):"edit"===t.type?W({variables:{id:w.id,name:e.name,levels:e.levels},refetchQueries:[{query:m.f.getEduSystems}]}):"delete"===t.type&&W({variables:{id:w.id},refetchQueries:[{query:m.f.getEduSystems}]})}},r.a.createElement("div",{className:"px-8 sm:px-8 mt-16 flex flex-col "},r.a.createElement(c.x,{className:"pr-8 mb-8 mt-8",type:"text",name:"name",label:"Name",value:w.name,validations:{maxLength:50},validationErrors:{maxLength:"You can not type in more than 50 characters"},InputProps:{endAdornment:r.a.createElement(D.a,{position:"end"},r.a.createElement(d.a,{className:"text-20",color:"action"},"check"))},variant:"outlined",required:!0}),r.a.createElement(c.x,{className:"pr-8 mb-8 mt-8",type:"text",name:"levels",label:"Level",value:w.levels,validations:{maxLength:50},validationErrors:{maxLength:"You can not type in more than 50 characters"},InputProps:{endAdornment:r.a.createElement(D.a,{position:"end"},r.a.createElement(d.a,{className:"text-20",color:"action"},"call_split"))},variant:"outlined",required:!0}))),r.a.createElement(j.t,{createdby:w.createdby,createdon:w.createdon,updatedby:w.updatedby,updatedon:w.updatedon}),q&&r.a.createElement(j.s,{message:"Saving data..."}),J&&r.a.createElement(s.a,{className:"pt-32"},"Error : Please try again! ",r.a.createElement("br",null),J.message," ",r.a.createElement("br",null))))),"new"===t.type&&r.a.createElement(T.a,{className:"justify-between pl-8 sm:pl-16"},r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:function(){X()}},"Close"),r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:function(){P.current.submit()},disabled:!y},"Add Academic Year")),"edit"===t.type&&r.a.createElement(T.a,{className:"justify-between pl-8 sm:pl-16"},r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:function(){X()}},"Close"),r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:function(){P.current.submit()},disabled:!y},"Save")),"delete"===t.type&&r.a.createElement(T.a,{className:"justify-between pl-8 sm:pl-16"},r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:function(){X()}},"Close"),r.a.createElement(i.a,{variant:"contained",color:"primary",onClick:function(){P.current.submit()}},"Delete")))};a.default=Object(l.a)("master",o.a)((function(){var e=Object(n.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(c.m,{classes:{contentWrapper:"p-0 h-full",content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-72 sm:min-h-72"},header:r.a.createElement(p,{pageLayout:e}),content:r.a.createElement(y,null),ref:e,innerScroll:!0}),r.a.createElement(C,null))}))},877:function(e,a,t){"use strict";var n=t(47),r=t(8),c=t(60),l={data:[],dialog:{type:"edit",props:{open:!1},data:null,mode:null}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c.h.OPEN_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case c.h.CLOSE_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},d={data:[],searchText:"",ayearDialog:{type:"edit",props:{open:!1},data:null,mode:null}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c.n.SET_AYEAR_SEARCH_TEXT:return Object(r.a)(Object(r.a)({},e),{},{searchText:a.searchText});case c.n.OPEN_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{ayearDialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case c.n.CLOSE_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{ayearDialog:{type:"new",props:{open:!1},data:null}});case c.n.OPEN_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{ayearDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case c.n.CLOSE_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{ayearDialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},i={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c.g.SET_EDU_SEARCH_TEXT:return Object(r.a)(Object(r.a)({},e),{},{searchText:a.searchText});case c.g.OPEN_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case c.g.CLOSE_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:"new",props:{open:!1},data:null}});case c.g.OPEN_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case c.g.CLOSE_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},m={data:[],searchText:"",subjDialog:{type:"edit",props:{open:!1},data:null,mode:null}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c.j.GET_SUBJECTS:return Object(r.a)(Object(r.a)({},e),{},{data:a.payload});case c.j.SET_SUBJECTS_SEARCH_TEXT:return Object(r.a)(Object(r.a)({},e),{},{searchText:a.searchText});case c.j.OPEN_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{subjDialog:{type:"new",props:{open:!0},data:null}});case c.j.CLOSE_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{subjDialog:{type:"new",props:{open:!1},data:null}});case c.j.OPEN_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{subjDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case c.j.CLOSE_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{subjDialog:{type:a.mode,props:{open:!1},data:null}});case c.j.SET_SUBJECTS_PAGINATION:return Object(r.a)(Object(r.a)({},e),{},{current:a.current,pageSize:a.pageSize});default:return e}},E={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c.b.SET_SEARCH_TEXT:return Object(r.a)(Object(r.a)({},e),{},{searchText:a.searchText});case c.b.OPEN_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{props:{open:!0},data:a.data,mode:a.mode}});case c.b.CLOSE_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{props:{open:!1},data:null,mode:a.mode}});case c.b.SET_CLASS_SEC_PAGINATION:return Object(r.a)(Object(r.a)({},e),{},{current:a.current,pageSize:a.pageSize});case c.b.SET_SUBJECT_IDS:return Object(r.a)(Object(r.a)({},e),{},{subjectIds:a.subjectIds});default:return e}},O={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case c.d.SET_DCONFIG_SEARCH_TEXT:return Object(r.a)(Object(r.a)({},e),{},{searchText:a.searchText});case c.d.OPEN_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case c.d.CLOSE_NEW_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:"new",props:{open:!1},data:null}});case c.d.OPEN_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case c.d.CLOSE_EDIT_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:a.mode,props:{open:!1},data:null}});case c.d.CLOSE_ONLY_DIALOG:return Object(r.a)(Object(r.a)({},e),{},{dialog:{type:"close",props:{open:!1},data:null}});default:return e}},y=Object(n.d)({schoolProfileReducer:o,ayearReducer:s,edusysReducer:u,subjectReducer:p,classReducer:b,dconfigReducer:j});a.a=y}}]);