(this["webpackJsonpsivanandha-vidyashram-seithur"]=this["webpackJsonpsivanandha-vidyashram-seithur"]||[]).push([[36],{1388:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(16),c=t(195),s=t(991),o=t(812),i=t(174),d=t(832),u=t(36),m=function(){return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between px-24"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(l.a,{animation:"transition.expandIn",delay:300},r.a.createElement(o.a,{className:"text-32 mr-12"},"how_to_reg")),r.a.createElement(l.a,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(i.a,{variant:"h6",className:"hidden sm:flex"},"Students"))),r.a.createElement(l.a,{animation:"transition.slideRightIn",delay:300},r.a.createElement(d.a,{component:u.a,to:"/students/new",className:"whitespace-no-wrap normal-case",variant:"contained"},r.a.createElement("span",{className:"hidden sm:flex"},"New Admission"),r.a.createElement("span",{className:"flex sm:hidden"},"New"))))},f=t(31),p=t(8),E=t(10),g=t(827),O=t(826),b=t(757),N=t(32),h=t.n(N),S=t(192),D=(t(11),t(70)),y=t(196),T={currentPage:1,total:0,pageSize:20,sorted:"stud.firstname",isAsc:"ASC",classId:"ALL",genderId:"ALL",textId:""};var v=function(e){var a=Object(n.useState)(T),t=Object(E.a)(a,2),l=t[0],c=t[1],s=Object(S.b)(y.h),i=Object(E.a)(s,2),m=i[0],N=i[1],v=N.loading,w=N.data,I=(w=void 0===w?{}:w).studentList,x=void 0===I?{}:I,j=r.a.useCallback((function(e){var a={currentPage:e.newPage,pageSize:e.pageSize};c((function(e){return Object.assign(Object(p.a)(Object(p.a)({},e),a))}))}));Object(n.useEffect)((function(){m({variables:{pageNo:l.currentPage,pageSize:l.pageSize,sortCol:l.sorted,isAsc:l.isAsc,classId:l.classId,genderId:l.genderId,textId:l.textId}})}),[l]);var A=function(e,a){var t;"class_section"===a&&(a="classId");var n=(t={},Object(f.a)(t,a,e.value),Object(f.a)(t,"currentPage",1),t);c((function(e){return Object.assign(Object(p.a)(Object(p.a)({},e),n))}))},L=x.rows,P=x.count;return r.a.createElement("div",{className:"w-full flex flex-col"},r.a.createElement("div",{className:"flex md:flex-row sm:flex-col xs:flex-col mt-8 z-999"},r.a.createElement(D.c,{formName:l.classId,onDDChange:A,label:"Search by Class & Section",showAll:!0,cssClass:"w-1/4 my-8 mr-8 ml-32"}),r.a.createElement(D.m,{formName:l.genderId,onDDChange:A,label:"Search by Gender",showAll:!0,cssClass:"w-1/4 m-8"}),r.a.createElement(g.a,{className:"mt-8 w-1/4",type:"text",name:"sTextId",label:"Search by Name",defaultValue:"",placeholder:"Search by Name",fullWidth:!0,margin:"normal",variant:"outlined"}),r.a.createElement(d.a,{className:"ml-8","aria-label":"Search",edge:"end",color:"primary",onClick:function(e){return function(e,a){var t=document.getElementsByName("sTextId")[0].value.trim();c((function(e){return Object.assign(Object(p.a)(Object(p.a)({},e),{},{textId:t}))})),document.getElementsByName("sTextId")[0].select()}()}},r.a.createElement("span",{className:"text-13"},"Find"),r.a.createElement(o.a,{className:"ml-8",color:"action"},"search")),r.a.createElement(d.a,{className:"ml-8","aria-label":"Clear",edge:"end",color:"primary",onClick:function(){c(T),document.getElementsByName("sTextId")[0].value=""}},r.a.createElement("span",{className:"text-13"},"Clear"),r.a.createElement(o.a,{className:"ml-8",color:"action"},"clear_all"))),v?r.a.createElement(D.s,null):r.a.createElement(D.q,{data:L,loading:v,totalCount:P,fetchData:j,currentPage:l.currentPage,pageSize:l.pageSize,hasExport:!0,columns:[{id:"firstname",Header:"First Name",accessor:"firstname",getProps:function(){return{style:{paddingLeft:"32px"}}},Cell:function(e){return r.a.createElement("div",null,"male"===e.row.original.gender?r.a.createElement("i",{className:"inline-block w-6 h-6 rounded mx-8 bg-blue"}):r.a.createElement("i",{className:"inline-block w-6 h-6 rounded mx-8 bg-red"}),"".concat(e.row.original.firstname," ").concat(e.row.original.lastname))}},{id:"classname",Header:"Class Section",accessor:function(e){return e.classsec.length?e.classsec.map((function(e){return e.name+" "+e.section})):""}},{id:"dob",Header:"DOB",accessor:function(e){return h()(e.dob).format("D MMMM YYYY")}},{id:"parentsfirstname",Header:"Father's name",accessor:function(e){return e.parents.map((function(e){return e.fathername}))}},{id:"updatedby",Header:"Last Updated by",Cell:function(e){return r.a.createElement(n.Fragment,null,r.a.createElement(O.a,{title:e.row.original.updatedon?h()(e.row.original.updatedon).format("MMMM Do YYYY, h:mm:ss a"):h()(e.row.original.createdon).format("MMMM Do YYYY, h:mm:ss a"),"aria-label":e.row.original.createdon},r.a.createElement("div",null,e.row.original.updatedby?e.row.original.updatedby:e.row.original.createdby)))}},{id:"action",Header:"",sortable:!1,Cell:function(e){return r.a.createElement("div",{className:"flex items-center"},r.a.createElement(O.a,{title:"Edit"},r.a.createElement(b.a,{className:"p-4",component:u.a,to:"/students/view/".concat(e.row.original.id)},r.a.createElement(o.a,null,"edit"))))}}]}),0===P?r.a.createElement(D.v,{message:"No records found !"}):null)};a.default=Object(c.a)("students",s.a)((function(e){var a=Object(n.useRef)(null);return r.a.createElement(n.Fragment,null,r.a.createElement(l.m,{classes:{contentWrapper:"p-0 h-full",content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-72 sm:min-h-72"},header:r.a.createElement(m,{pageLayout:a}),content:r.a.createElement(v,e),ref:a,innerScroll:!0}))}))},991:function(e,a,t){"use strict";var n={};t.r(n),t.d(n,"GET_STUDENT",(function(){return s})),t.d(n,"GET_DISPLAY_NAME",(function(){return o})),t.d(n,"OPEN_PARENTS_DIALOG",(function(){return i})),t.d(n,"CLOSE_PARENTS_DIALOG",(function(){return d})),t.d(n,"OPEN_PHOTO_DIALOG",(function(){return u})),t.d(n,"CLOSE_PHOTO_DIALOG",(function(){return m})),t.d(n,"showAlertMessage",(function(){return f})),t.d(n,"openUploadDialog",(function(){return p})),t.d(n,"closeUploadDialog",(function(){return E})),t.d(n,"getStudent",(function(){return g})),t.d(n,"getDisplayName",(function(){return O})),t.d(n,"openParentsDialog",(function(){return b})),t.d(n,"closeDialog",(function(){return N}));var r=t(47),l=t(8),c=t(41),s="[STUDENTS] GET STUDENT",o="[STUDENTS] GET DISPLAY STUDENT",i="[STUDENTS] OPEN PARENTS DIALOG",d="[STUDENTS] CLOSE PARENTS DIALOG",u="[STUDENTS] OPEN PHOTO DIALOG",m="[STUDENTS] CLOSE PHOTO DIALOG";function f(e,a){return function(t){return t(Object(c.B)({message:e,variant:a}))}}function p(){return{type:u}}function E(){return{type:m}}function g(e){return function(a){return a({type:s,payload:e})}}function O(e){return function(a){return a({type:o,payload:e})}}function b(e,a,t){return{type:i,data:e,mode:a,relation:t}}function N(){return{type:d}}t(196);var h={displayName:"",sDialog:{type:"edit",props:{open:!1},data:null,mode:null,relation:"Father"}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case n.GET_STUDENT:return Object(l.a)(Object(l.a)({},e),{},{data:a.payload});case n.GET_DISPLAY_NAME:return Object(l.a)(Object(l.a)({},e),{},{displayName:a.payload});case n.OPEN_PARENTS_DIALOG:return Object(l.a)(Object(l.a)({},e),{},{sDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode,relation:a.relation}});case n.CLOSE_PARENTS_DIALOG:return Object(l.a)(Object(l.a)({},e),{},{sDialog:{type:a.mode,props:{open:!1},data:null,mode:null,relation:null}});case n.OPEN_PHOTO_DIALOG:return Object(l.a)(Object(l.a)({},e),{},{sDialog:{type:"new",props:{open:!0},data:null}});case n.CLOSE_PHOTO_DIALOG:return Object(l.a)(Object(l.a)({},e),{},{sDialog:{type:"new",props:{open:!1},data:null}});default:return e}},D=Object(r.d)({studentsReducer:S});a.a=D}}]);