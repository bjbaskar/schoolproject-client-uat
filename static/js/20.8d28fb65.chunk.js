(this["webpackJsonpsivanandha-vidyashram-seithur"]=this["webpackJsonpsivanandha-vidyashram-seithur"]||[]).push([[20],{1246:function(e,a,t){"use strict";var n=t(1),c=t(5),r=t(0),l=(t(3),t(2)),s=t(9),i=t(174),o=r.forwardRef((function(e,a){var t=e.action,s=e.avatar,o=e.classes,d=e.className,u=e.component,m=void 0===u?"div":u,p=e.disableTypography,f=void 0!==p&&p,b=e.subheader,g=e.subheaderTypographyProps,E=e.title,v=e.titleTypographyProps,j=Object(c.a)(e,["action","avatar","classes","className","component","disableTypography","subheader","subheaderTypographyProps","title","titleTypographyProps"]),h=E;null==h||h.type===i.a||f||(h=r.createElement(i.a,Object(n.a)({variant:s?"body2":"h5",className:o.title,component:"span",display:"block"},v),h));var O=b;return null==O||O.type===i.a||f||(O=r.createElement(i.a,Object(n.a)({variant:s?"body2":"body1",className:o.subheader,color:"textSecondary",component:"span",display:"block"},g),O)),r.createElement(m,Object(n.a)({className:Object(l.default)(o.root,d),ref:a},j),s&&r.createElement("div",{className:o.avatar},s),r.createElement("div",{className:o.content},h,O),t&&r.createElement("div",{className:o.action},t))}));a.a=Object(s.a)({root:{display:"flex",alignItems:"center",padding:16},avatar:{flex:"0 0 auto",marginRight:16},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-8,marginRight:-8},content:{flex:"1 1 auto"},title:{},subheader:{}},{name:"MuiCardHeader"})(o)},1373:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(16),l=t(195),s=t(826),i=t(757),o=t(812),d=t(11),u=t(26),m=t.n(u),p=t(32),f=t.n(p),b=t(192),g=t(70),E=t(60);var v=function(){var e=Object(d.b)(),a=Object(d.c)((function(e){return e.master.classReducer.searchText})),t=Object(d.c)((function(e){return e.master.classReducer.dialog})),l=Object(b.d)(E.c.getAllClass),u=l.loading,p=l.error,v=l.data,j=l.refetch;if(Object(n.useEffect)((function(){t.props.open||j()}),[t.props.open,j]),p)return c.a.createElement("h1",null,"Error...");if(u||!v)return c.a.createElement(g.s,null);var h=function(e,a){return 0===a.length?e:r.u.filterArrayByString(e,a)}(v.getAllClass,a.trim());return c.a.createElement(g.o,{data:h,hasExport:!0,exportMode:"DATA",columns:[{id:"classname",Header:"Class Name",accessor:"name",getProps:function(){return{style:{paddingLeft:"32px"}}}},{id:"section",Header:"Class Section",accessor:"section",Cell:function(e){return c.a.createElement("div",{className:m()("inline p-4 rounded truncate"),style:{backgroundColor:e.row.original.color,minWidth:"42px"}},e.row.original.section)}},{id:"edustr",Header:"Education Structure",accessor:function(e){return e.edusystem.name+" - "+e.edusystem.levels},style:{whiteSpace:"unset"}},{id:"acadyr",Header:"Academic Year",accessor:function(e){return e.academicyear.displayname}},{id:"updatedby",Header:"Last Updated by",accessor:function(e){return e.updatedby?e.updatedby:e.createdby}},{id:"updatedon",Header:"Last Updated on",accessor:function(e){return e.updatedon?f()(e.updatedon).format("MMM Do YYYY, h:mm a"):f()(e.createdon).format("MMM Do YYYY, h:mm a")}},{id:"controls",Header:"",sortable:!1,Cell:function(a){return c.a.createElement("div",{className:"flex items-center"},c.a.createElement(s.a,{title:"Edit Class"},c.a.createElement(i.a,{onClick:function(t){t.stopPropagation(),e(E.b.openDialog(a.row.original,"edit"))}},c.a.createElement(o.a,null,"edit"))),c.a.createElement(s.a,{title:"Assign Teacher to Class"},c.a.createElement(i.a,{onClick:function(t){t.stopPropagation(),e(E.b.openDialog(a.row.original,"staff-assign"))}},c.a.createElement(o.a,null,"supervised_user_circle"))),c.a.createElement(s.a,{title:"Delete / Inactivate"},c.a.createElement(i.a,{onClick:function(t){t.stopPropagation(),e(E.b.openDialog(a.row.original,"delete"))}},c.a.createElement(o.a,null,"delete"))))}}]})},j=t(174),h=t(173),O=t(758),y=t(832),x=t(804);var S=function(){var e=Object(d.b)(),a=Object(d.c)((function(e){return e.master.classReducer.searchText})),t=Object(d.c)((function(e){return e.fuse.settings.mainTheme}));return c.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between px-24"},c.a.createElement("div",{className:"flex flex-shrink items-center sm:w-224"},c.a.createElement("div",{className:"flex items-center"},c.a.createElement(r.a,{animation:"transition.expandIn",delay:300},c.a.createElement(o.a,{className:"text-32 mr-12"},"featured_play_list")),c.a.createElement(r.a,{animation:"transition.slideLeftIn",delay:300},c.a.createElement(j.a,{variant:"h6",className:"hidden sm:flex"},"Class & Section")))),c.a.createElement("div",{className:"flex flex-1 items-center justify-center pr-8 sm:px-12"},c.a.createElement(x.a,{theme:t},c.a.createElement(r.a,{animation:"transition.slideLeftIn",delay:300},c.a.createElement(h.a,{className:"flex p-4 items-center w-full max-w-512 px-8 py-4",elevation:1},c.a.createElement(o.a,{className:"mr-8",color:"action"},"search"),c.a.createElement(O.a,{placeholder:"Search class name",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(a){return e(E.b.setClassSearchText(a))}}))))),c.a.createElement(r.a,{animation:"transition.slideRightIn",delay:300},c.a.createElement(y.a,{onClick:function(){return e(E.b.openDialog(null,"new"))},variant:"contained",className:"normal-case"},c.a.createElement("span",{className:"hidden sm:flex"},"Add New Class"),c.a.createElement("span",{className:"flex sm:hidden"},"New"))))},C=t(829),w=t(823),N=t(833),_=t(8),D=t(10),I=t(834),T=t(836),A=t(820),L=t(852),k=t(764),P=t(835),G=t(79),R=t.n(G),W=t(101),Y=t(33),F=t(809),H=t(822),z=t(1246),M=t(817),U=t(810),B=t(756),q=t(825),J=t(811),X=t(845),V=t(902),$=t(18),K=Object(F.a)((function(e){return{root:{margin:"auto"},cardHeader:{padding:e.spacing(1,2)},list:{width:200,height:230,backgroundColor:e.palette.background.paper,overflow:"auto"},button:{margin:e.spacing(.5,0)}}}));function Q(e,a){return e.filter((function(e){return-1===a.indexOf(e)}))}function Z(e,a){return e.filter((function(e){return-1!==a.map((function(e){return e.id})).indexOf(e.id)}))}var ee=function(e){var a=Object(d.b)(),t=K(),r=c.a.useState([]),l=Object(D.a)(r,2),s=l[0],i=l[1],o=c.a.useState([]),u=Object(D.a)(o,2),p=u[0],f=u[1],v=c.a.useState([]),h=Object(D.a)(v,2),O=h[0],x=h[1],S=e.mode,C=e.rightData,w=Object(b.b)(E.k.querySubjects),N=Object(D.a)(w,2),_=N[0],I=N[1],T=I.loading,A=I.error,k=I.data;Object(n.useEffect)((function(){_()}),[_]),Object(n.useEffect)((function(){!function(){var e,a,t=[];if(k&&k.getSubjects&&(t=k.getSubjects),"new"===S)f(t),x([]);else{var n=(e=t,a=C,$.a.differenceBy(e,a,"id"));f(n),C&&x(C)}}()}),[S,C,k]),Object(n.useEffect)((function(){var e=O.map((function(e){return e.id}));a(E.b.setSubjectIds(e))}),[O,x,a]);var P=Z(s,p),G=Z(s,O),R=function(e){return function(){var a=s.indexOf(e),t=Object(Y.a)(s);-1===a?t.push(e):t.splice(a,1),i(t)}},W=function(e){return Z(s,e).length},F=function(e){return function(){var a,t;W(e)===e.length?i(Q(s,e)):i((a=s,t=e,[].concat(Object(Y.a)(a),Object(Y.a)(Q(t,a)))))}},ee=function(e,a){return c.a.createElement(H.a,null,c.a.createElement(z.a,{className:t.cardHeader,avatar:c.a.createElement(L.a,{onClick:F(a),checked:W(a)===a.length&&0!==a.length,indeterminate:W(a)!==a.length&&0!==W(a),disabled:0===a.length,inputProps:{"aria-label":"all items selected"}}),title:e,subheader:"".concat(W(a),"/").concat(a.length," selected")}),c.a.createElement(M.a,null),c.a.createElement(U.a,{className:m()(t.list,"w-full"),dense:!0,component:"div",role:"list"},a&&a.map((function(a,t){var n="transfer-list-all-item-".concat(a.name,"-label");return c.a.createElement(B.a,{key:t,id:e,role:"listitem",button:!0,onClick:R(a)},c.a.createElement(q.a,null,c.a.createElement(L.a,{checked:-1!==s.indexOf(a),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":n}})),c.a.createElement(J.a,{id:n,primary:a.name?a.name:""}),c.a.createElement(X.a,null,c.a.createElement(j.a,{component:"span",className:m()("inline p-4 rounded truncate ml-8"),style:{backgroundColor:a.color,minWidth:"42px"}},a.subcode?a.subcode:"")))})),c.a.createElement(B.a,null)))};return A?c.a.createElement("h1",null,"Error..."):T||!k?c.a.createElement(g.s,null):c.a.createElement(V.a,{container:!0,spacing:2,justify:"center",alignItems:"center",className:m()(t.root,"ml-8 mb-8")},c.a.createElement(V.a,{item:!0,className:"w-1/3"},ee("Available",p)),c.a.createElement(V.a,{item:!0},c.a.createElement(V.a,{container:!0,direction:"column",alignItems:"center"},c.a.createElement(y.a,{variant:"outlined",size:"small",className:t.button,onClick:function(){x(O.concat(P)),f(Q(p,P)),i(Q(s,P))},disabled:0===P.length,"aria-label":"move selected right"},">"),c.a.createElement(y.a,{variant:"outlined",size:"small",className:t.button,onClick:function(){f(p.concat(G)),x(Q(O,G)),i(Q(s,G))},disabled:0===G.length,"aria-label":"move selected left"},"<"))),c.a.createElement(V.a,{item:!0,className:"w-1/3"},ee("Assigned",O)))},ae={id:"",name:"",subcode:"",color:""},te={id:"",name:"",section:"",orderby:1,isactive:!0,classteacher:[ae],subjects:[ae],edusystem:"",academicyear:"",is_final_year:!1};var ne=function(){var e=Object(d.b)(),a=Object(d.c)((function(e){return e.master.classReducer.dialog})),t=Object(d.c)((function(e){return e.master.classReducer.subjectIds})),l=Object(n.useState)([]),s=Object(D.a)(l,2),i=s[0],u=s[1],m=Object(n.useState)([]),p=Object(D.a)(m,2),f=p[0],v=p[1],h=Object(n.useState)(!1),O=Object(D.a)(h,2),x=O[0],S=O[1],C=Object(n.useState)([]),w=Object(D.a)(C,2),N=w[0],G=w[1],Y=Object(n.useRef)(null),F=Object(W.b)(te),H=F.form,z=F.setForm,M=F.setInForm,U=E.c.editClassSection;U="new"===a.mode?E.c.addClassSection:"edit"===a.mode?E.c.editClassSection:E.c.delClassSection;var B=Object(b.b)(E.f.getEduSystems),q=Object(D.a)(B,2),J=q[0],X=q[1],V=Object(b.b)(E.o.getAcadYears),$=Object(D.a)(V,2),K=$[0],Q=$[1],Z=Object(b.c)(U,{onCompleted:function(e){e.data;ue()}}),ae=Object(D.a)(Z,2),ne=ae[0],ce=ae[1],re=ce.loading,le=ce.error,se=Object(n.useCallback)((function(){if(("edit"===a.mode||"delete"===a.mode)&&a.data){z(Object(_.a)({},a.data));var e=(a.data?a.data.classteachersub:[]).map((function(e){return e.subject}));G(e)}"new"===a.mode&&z(Object(_.a)({},te))}),[a.data,a.mode,z]);Object(n.useEffect)((function(){return a.props.open&&(se(),J(),K()),function(){z(te)}}),[a.props.open,se,J,K,z]),Object(n.useEffect)((function(){var e=X.data&&X.data.getEduSystems,a=e&&e.map((function(e){return{value:e.id,label:e.name+" - "+e.levels}}));u(a)}),[X]),Object(n.useEffect)((function(){var e=Q.data&&Q.data.getAcadYears,a=e&&e.map((function(e){return{value:e.id,label:e.displayname}}));return v(a),function(){}}),[Q]);var ie=function(e,a){M(a,e.value)},oe=function(e,a){if(e&&a)return e.find((function(e){return e.value===a}))},de=function(e){return e.id?e.id:e.length?e:null},ue=function(){"new"===a.mode?e(E.b.closeDialog("new")):"edit"===a.mode?e(E.b.closeDialog("edit")):"delete"===a.mode&&e(E.b.closeDialog("delete"))},me=function(e,a,t){var n=e.target.value;n=r.u.setUpperCaps(n,t),M(a,n)},pe=function(e){return function(a){M(e,a.target.checked)}};return c.a.createElement(n.Fragment,null,c.a.createElement(I.a,null,c.a.createElement(n.Fragment,null,c.a.createElement(R.a,{onValid:function(){S(!0)},onInvalid:function(){S(!1)},ref:Y,onValidSubmit:function(e){"new"===a.mode?ne({variables:{name:e.name,section:e.section,orderby:Number(e.orderby),isactive:H.isactive,subjectIds:t,edusystem:H.edusystem,academicyear:H.academicyear,is_final_year:H.is_final_year}}):"edit"===a.mode?ne({variables:{id:H.id,name:e.name,section:e.section,orderby:Number(e.orderby),isactive:H.isactive,subjectIds:t,edusystem:de(H.edusystem),academicyear:de(H.academicyear),is_final_year:H.is_final_year}}):"delete"===a.mode&&ne({variables:{id:H.id}})}},c.a.createElement("div",{className:"px-8 sm:px-8 mt-16 flex flex-row items-center justify-center"},c.a.createElement(r.c,{name:"edusys",className:"mb-8 w-full z-999",value:oe(i,H.edusystem?H.edusystem.id:void 0),options:i,placeholder:"Select Education Structure *",textFieldProps:{label:"Education Structure",InputLabelProps:{shrink:!0},variant:"outlined"},onChange:function(e){return ie(e,"edusystem")},required:!0}),c.a.createElement(r.c,{name:"acadyr",className:"mb-8 w-full ml-8 z-999",value:oe(f,H.academicyear?H.academicyear.id:void 0),options:f,placeholder:"Select Academic Year *",textFieldProps:{label:"Academic Year",InputLabelProps:{shrink:!0},variant:"outlined"},onChange:function(e){return ie(e,"academicyear")},required:!0})),c.a.createElement("div",{className:"px-8 sm:px-8 mt-16 flex flex-row items-center justify-center"},c.a.createElement(r.x,{className:"mb-8 w-1/2",type:"text",name:"name",label:"Class Name",value:H.name,validations:{maxLength:50},validationErrors:{maxLength:"You can not type in more than 50 characters"},InputProps:{endAdornment:c.a.createElement(T.a,{position:"end"},c.a.createElement(o.a,{className:"text-20",color:"action"},"event_note"))},onChange:function(e){return me(e,"name","UP")},variant:"outlined",required:!0}),c.a.createElement(r.x,{className:"mb-8 ml-8 w-1/2",type:"text",name:"section",label:"Class Section",value:H.section,validations:{maxLength:8},validationErrors:{maxLength:"You can not type in more than 8 characters"},InputProps:{endAdornment:c.a.createElement(T.a,{position:"end"},c.a.createElement(o.a,{className:"text-20",color:"action"},"wc"))},onChange:function(e){return me(e,"section","UP")},variant:"outlined",required:!0}),c.a.createElement(r.x,{className:"mb-8 ml-8",type:"number",name:"orderby",label:"Order by",value:H.orderby,InputProps:{endAdornment:c.a.createElement(T.a,{position:"end"},c.a.createElement(o.a,{className:"text-20",color:"action"},"sort"))},variant:"outlined",required:!0})),c.a.createElement("div",{className:"px-8 sm:px-8 mt-8 flex flex-row justify-between"},c.a.createElement("div",{className:"flex flex-col"},c.a.createElement(A.a,{control:c.a.createElement(L.a,{checked:H.is_final_year,onChange:pe("is_final_year"),value:H.is_final_year,color:"primary"}),label:"Is Final Year",labelPlacement:"start"}),c.a.createElement(k.a,{className:"text-right mt-0 pt-0"},"Please check if this class is final year")),c.a.createElement("div",{className:"flex flex-col"},c.a.createElement(A.a,{control:c.a.createElement(L.a,{checked:H.isactive,onChange:pe("isactive"),value:H.isactive,color:"primary"}),label:"Is Active",labelPlacement:"start"}),c.a.createElement(k.a,{className:"text-right mt-0 pt-0"},"Please check if this class is active for this academic year."))),c.a.createElement(ee,{rightData:N,mode:a.mode}),c.a.createElement(g.t,{createdby:H.createdby,createdon:H.createdon,updatedby:H.updatedby,updatedon:H.updatedon})),re&&c.a.createElement(g.s,{message:"Saving data..."}),le&&c.a.createElement(j.a,{className:"pt-32"},"Error : Please try again! ",c.a.createElement("br",null),le.message," ",c.a.createElement("br",null)))),c.a.createElement(P.a,{className:"justify-between pl-8 sm:pl-16"},c.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){ue()}},"Close"),"new"===a.mode&&c.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){Y.current.submit()},disabled:!x},"Add Class & Section"),"edit"===a.mode&&c.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){Y.current.submit()},disabled:!x},"Save"),"delete"===a.mode&&c.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){Y.current.submit()}},"Delete")))},ce=t(760),re=t(768),le=t(819),se=t(134),ie=t.n(se),oe=t(334),de=t(21),ue=Object(F.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120,width:"100%"},selectEmpty:{marginTop:e.spacing(2)}}})),me={name:"",section:"",edusystem:{name:"",levels:""},academicyear:{displayname:""},classteacher:"",asstclassteacher:"",subject_teacher:[Object(_.a)({},{subjectId:"",staffId:""})]},pe=function(e){var a=e.options,t=e.label,r=e.value,l=e.onDDChange,s=ue(),i=Object(n.useState)(r),o=Object(D.a)(i,2),d=o[0],u=o[1];return c.a.createElement(ce.a,{className:s.formControl},c.a.createElement(re.a,{labelId:t,id:"".concat(t,"-select"),value:d,label:t,onChange:function(e){return function(e){u(e.target.value),l(e)}(e)}},a&&a.map((function(e){return c.a.createElement(le.a,{key:e.value,value:e.value},e.label)}))))};var fe=function(){var e=Object(d.b)(),a=Object(d.c)((function(e){return e.master.classReducer.dialog})),t=Object(n.useState)([]),r=Object(D.a)(t,2),l=r[0],s=r[1],i=Object(n.useState)([]),o=Object(D.a)(i,2),u=o[0],m=o[1],p=Object(W.b)(me),f=p.form,v=p.setForm,j=p.setInForm,h=Object(n.useState)([]),O=Object(D.a)(h,2),x=O[0],S=O[1],C=Object(b.b)(oe.f,{variables:{isactive:!0}}),w=Object(D.a)(C,2),N=w[0],T=w[1],A=Object(b.c)(E.c.addStaffToClass,{onCompleted:function(e){e.data;R()}}),L=Object(D.a)(A,2),k=L[0],G=L[1],R=function(){"staff-assign"===a.mode&&e(E.b.closeDialog("staff-assign"))},F=Object(n.useCallback)((function(){if("staff-assign"===a.mode&&a.data){v(Object(_.a)({newState:me},a.data));var e=a.data?a.data.classteachersub:[];s(e)}}),[a.data,a.mode,v]);Object(n.useEffect)((function(){return a.props.open&&(F(),N({variables:{isactive:!0}})),function(){v(me)}}),[a.props.open,F,N,v]),Object(n.useEffect)((function(){if(T.data&&T.data.getAllStaffDD){var e=T.data.getAllStaffDD,a=e&&e.map((function(e){return{value:e.id,label:e.firstname+" "+e.lastname}}));m(a)}}),[T]);var H=function(e,a){j(a,e.value)};return T.loading?c.a.createElement(g.s,null):G.loading?c.a.createElement(g.s,{message:"Saving data..."}):c.a.createElement(n.Fragment,null,c.a.createElement(I.a,null,c.a.createElement(n.Fragment,null,c.a.createElement("table",{className:"simple w-full"},c.a.createElement("tbody",{className:"w-full"},c.a.createElement("tr",null,c.a.createElement("td",null,"Class"),c.a.createElement("td",{className:"font-bold text-red"},"".concat(f.name," - ").concat(f.section," section")),c.a.createElement("td",{className:"text-right"},"Education Structure"),c.a.createElement("td",{className:"font-bold"},f.edusystem&&f.edusystem.name,"-"," ",f.edusystem&&f.edusystem.levels),c.a.createElement("td",{className:"text-right"},"Academic Year"),c.a.createElement("td",{className:"font-bold"},f.academicyear&&f.academicyear.displayname)))),c.a.createElement("div",{className:"flex flex-row w-full mt-16 "},c.a.createElement(g.w,{itemName:f.classteacher,optionName:"classteacher",label:"Assign Class Teacher",cssClass:"w-1/2",onDDChange:H}),c.a.createElement(g.w,{itemName:f.asstclassteacher,optionName:"asstclassteacher",label:"Assign Assistant Class Teacher",cssClass:"ml-8 w-1/2",onDDChange:H})),c.a.createElement(U.a,{className:"w-3/4"},l.map((function(e,a){var t=e.subject?e.subject.id:"",r=e.subject?e.subject.name:"",l=e.staff?e.staff.id:"";return c.a.createElement(n.Fragment,{key:a},c.a.createElement(B.a,null,c.a.createElement(J.a,{className:"w-1/2 flex-grow-0",primary:r}),c.a.createElement(X.a,{className:"w-1/2"},c.a.createElement(pe,{value:l,options:u,onDDChange:function(e){return function(e,a){e.preventDefault();var t={subjectId:a,staffId:e.target.value};if(0===x.length)S([t]);else if(x){var n=ie.a.findIndex(x,{subjectId:a}),c=Object(Y.a)(x);n>=0?c[n]=t:c.push(t),S(c)}}(e,t)}}))),c.a.createElement(M.a,{variant:"inset",component:"li"}))}))),c.a.createElement(g.t,{createdby:f.createdby,createdon:f.createdon,updatedby:f.updatedby,updatedon:f.updatedon}))),c.a.createElement(P.a,{className:"justify-between pl-8 sm:pl-16"},c.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){R()}},"Close"),"staff-assign"===a.mode&&c.a.createElement(y.a,{className:"normal-case",variant:"contained",color:"primary",onClick:function(){if(!function(){var a=!0,t="";return f.classteacher||(t="Select Class teacher",a=!1),a||e(de.j({message:t,variant:"warn"})),a}())return!1;var a,t;a=f.classteacher&&f.classteacher.id?f.classteacher.id:f.classteacher,t=f.asstclassteacher&&f.asstclassteacher.id?f.asstclassteacher.id:f.asstclassteacher,k({variables:{id:f.id,classteacher:a,asstclassteacher:t,subj_staff:x}})}},"Assign Staff")))};var be=function(){var e=Object(d.b)(),a=Object(d.c)((function(e){return e.master.classReducer.dialog}));return c.a.createElement(C.a,Object.assign({},a.props,{onClose:function(){"new"===a.mode?e(E.b.closeDialog("new")):"edit"===a.mode?e(E.b.closeDialog("edit")):"delete"===a.mode?e(E.b.closeDialog("delete")):"staff-assign"===a.mode&&e(E.b.closeDialog("staff-assign"))},fullWidth:!0,maxWidth:"md"}),c.a.createElement(w.a,{position:"static",elevation:1},c.a.createElement(N.a,{className:"flex w-full"},c.a.createElement(j.a,{variant:"subtitle1",color:"inherit"},"new"===a.mode&&"New Class","edit"===a.mode&&"Edit / Assign Subjects to Class","delete"===a.mode&&"Delete Class","staff-assign"===a.mode&&"Assign Teacher to Class & Subjects"))),"staff-assign"!==a.mode?c.a.createElement(ne,null):c.a.createElement(fe,null))},ge=t(877);a.default=Object(l.a)("master",ge.a)((function(){var e=Object(n.useRef)(null);return c.a.createElement(c.a.Fragment,null,c.a.createElement(r.m,{classes:{contentWrapper:"p-0 h-full",content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-72 sm:min-h-72"},header:c.a.createElement(S,{pageLayout:e}),content:c.a.createElement(v,null),ref:e,innerScroll:!0}),c.a.createElement(be,null))}))},877:function(e,a,t){"use strict";var n=t(47),c=t(8),r=t(60),l={data:[],dialog:{type:"edit",props:{open:!1},data:null,mode:null}},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.h.OPEN_EDIT_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.h.CLOSE_EDIT_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},i={data:[],searchText:"",ayearDialog:{type:"edit",props:{open:!1},data:null,mode:null}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.n.SET_AYEAR_SEARCH_TEXT:return Object(c.a)(Object(c.a)({},e),{},{searchText:a.searchText});case r.n.OPEN_NEW_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{ayearDialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case r.n.CLOSE_NEW_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{ayearDialog:{type:"new",props:{open:!1},data:null}});case r.n.OPEN_EDIT_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{ayearDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.n.CLOSE_EDIT_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{ayearDialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},d={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.g.SET_EDU_SEARCH_TEXT:return Object(c.a)(Object(c.a)({},e),{},{searchText:a.searchText});case r.g.OPEN_NEW_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case r.g.CLOSE_NEW_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{dialog:{type:"new",props:{open:!1},data:null}});case r.g.OPEN_EDIT_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.g.CLOSE_EDIT_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},m={data:[],searchText:"",subjDialog:{type:"edit",props:{open:!1},data:null,mode:null}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.j.GET_SUBJECTS:return Object(c.a)(Object(c.a)({},e),{},{data:a.payload});case r.j.SET_SUBJECTS_SEARCH_TEXT:return Object(c.a)(Object(c.a)({},e),{},{searchText:a.searchText});case r.j.OPEN_NEW_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{subjDialog:{type:"new",props:{open:!0},data:null}});case r.j.CLOSE_NEW_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{subjDialog:{type:"new",props:{open:!1},data:null}});case r.j.OPEN_EDIT_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{subjDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.j.CLOSE_EDIT_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{subjDialog:{type:a.mode,props:{open:!1},data:null}});case r.j.SET_SUBJECTS_PAGINATION:return Object(c.a)(Object(c.a)({},e),{},{current:a.current,pageSize:a.pageSize});default:return e}},f={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.b.SET_SEARCH_TEXT:return Object(c.a)(Object(c.a)({},e),{},{searchText:a.searchText});case r.b.OPEN_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{dialog:{props:{open:!0},data:a.data,mode:a.mode}});case r.b.CLOSE_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{dialog:{props:{open:!1},data:null,mode:a.mode}});case r.b.SET_CLASS_SEC_PAGINATION:return Object(c.a)(Object(c.a)({},e),{},{current:a.current,pageSize:a.pageSize});case r.b.SET_SUBJECT_IDS:return Object(c.a)(Object(c.a)({},e),{},{subjectIds:a.subjectIds});default:return e}},g={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.d.SET_DCONFIG_SEARCH_TEXT:return Object(c.a)(Object(c.a)({},e),{},{searchText:a.searchText});case r.d.OPEN_NEW_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case r.d.CLOSE_NEW_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{dialog:{type:"new",props:{open:!1},data:null}});case r.d.OPEN_EDIT_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.d.CLOSE_EDIT_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{dialog:{type:a.mode,props:{open:!1},data:null}});case r.d.CLOSE_ONLY_DIALOG:return Object(c.a)(Object(c.a)({},e),{},{dialog:{type:"close",props:{open:!1},data:null}});default:return e}},v=Object(n.d)({schoolProfileReducer:s,ayearReducer:o,edusysReducer:u,subjectReducer:p,classReducer:b,dconfigReducer:E});a.a=v},902:function(e,a,t){"use strict";var n=t(5),c=t(1),r=t(0),l=(t(3),t(2)),s=t(9),i=[0,1,2,3,4,5,6,7,8,9,10],o=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function d(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=parseFloat(e);return"".concat(t/a).concat(String(e).replace(String(t),"")||"px")}var u=r.forwardRef((function(e,a){var t=e.alignContent,s=void 0===t?"stretch":t,i=e.alignItems,o=void 0===i?"stretch":i,d=e.classes,u=e.className,m=e.component,p=void 0===m?"div":m,f=e.container,b=void 0!==f&&f,g=e.direction,E=void 0===g?"row":g,v=e.item,j=void 0!==v&&v,h=e.justify,O=void 0===h?"flex-start":h,y=e.lg,x=void 0!==y&&y,S=e.md,C=void 0!==S&&S,w=e.sm,N=void 0!==w&&w,_=e.spacing,D=void 0===_?0:_,I=e.wrap,T=void 0===I?"wrap":I,A=e.xl,L=void 0!==A&&A,k=e.xs,P=void 0!==k&&k,G=e.zeroMinWidth,R=void 0!==G&&G,W=Object(n.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),Y=Object(l.default)(d.root,u,b&&[d.container,0!==D&&d["spacing-xs-".concat(String(D))]],j&&d.item,R&&d.zeroMinWidth,"row"!==E&&d["direction-xs-".concat(String(E))],"wrap"!==T&&d["wrap-xs-".concat(String(T))],"stretch"!==o&&d["align-items-xs-".concat(String(o))],"stretch"!==s&&d["align-content-xs-".concat(String(s))],"flex-start"!==O&&d["justify-xs-".concat(String(O))],!1!==P&&d["grid-xs-".concat(String(P))],!1!==N&&d["grid-sm-".concat(String(N))],!1!==C&&d["grid-md-".concat(String(C))],!1!==x&&d["grid-lg-".concat(String(x))],!1!==L&&d["grid-xl-".concat(String(L))]);return r.createElement(p,Object(c.a)({className:Y,ref:a},W))})),m=Object(s.a)((function(e){return Object(c.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,a){var t={};return i.forEach((function(n){var c=e.spacing(n);0!==c&&(t["spacing-".concat(a,"-").concat(n)]={margin:"-".concat(d(c,2)),width:"calc(100% + ".concat(d(c),")"),"& > $item":{padding:d(c,2)}})})),t}(e,"xs"),e.breakpoints.keys.reduce((function(a,t){return function(e,a,t){var n={};o.forEach((function(e){var a="grid-".concat(t,"-").concat(e);if(!0!==e)if("auto"!==e){var c="".concat(Math.round(e/12*1e8)/1e6,"%");n[a]={flexBasis:c,flexGrow:0,maxWidth:c}}else n[a]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else n[a]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===t?Object(c.a)(e,n):e[a.breakpoints.up(t)]=n}(a,e,t),a}),{}))}),{name:"MuiGrid"})(u);a.a=m}}]);