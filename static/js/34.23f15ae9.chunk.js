(this["webpackJsonpsivanandha-vidyashram-seithur"]=this["webpackJsonpsivanandha-vidyashram-seithur"]||[]).push([[34],{1378:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(877),c=t(16),o=t(195),d=t(10),i=t(812),s=t(174),m=t(832),u=t(11),p=t(32),E=t.n(p),b=t(192),O=t(70),h=t(60);var x=function(){var e=Object(u.b)(),a=Object(u.c)((function(e){return e.master.schoolProfileReducer.dialog})),t=Object(b.b)(h.i.getSchoolProfile),r=Object(d.a)(t,2),c=r[0],o=r[1],p=o.called,x=o.loading,v=o.error,g=o.data;if(Object(l.useEffect)((function(){p&&a.props.open||c()}),[a.props.open]),v)return n.a.createElement("h1",null,"Error...");if(p&&x||!g)return n.a.createElement(O.s,null);var j=g.getSchoolProfile;return n.a.createElement("div",{className:"p-16 sm:p-24 max-w-2xl w-full"},n.a.createElement("div",{className:"pb-48"},n.a.createElement("div",{className:"pb-16 flex items-center"},n.a.createElement(i.a,{color:"action"},"access_time"),n.a.createElement(s.a,{className:"h2 mx-16",color:"textSecondary"},"General")),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"simple"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"Name"),n.a.createElement("td",null,j.name)),n.a.createElement("tr",null,n.a.createElement("td",null,"Short Name"),n.a.createElement("td",null,j.surname)),n.a.createElement("tr",null,n.a.createElement("td",null,"Sector"),n.a.createElement("td",null,j.sector)),n.a.createElement("tr",null,n.a.createElement("td",null,"Provider"),n.a.createElement("td",null,j.provider)),n.a.createElement("tr",null,n.a.createElement("td",null,"Type of School"),n.a.createElement("td",null,j.type)),n.a.createElement("tr",null,n.a.createElement("td",null,"Date Opened"),n.a.createElement("td",null,j.dateopened?E()(j.dateopened).format("DD-MM-YYYY"):"")),n.a.createElement("tr",null,n.a.createElement("td",null,"Date of Govt. Recognition"),n.a.createElement("td",null,j.recognitiondate?E()(j.recognitiondate).format("DD-MM-YYYY"):"")))))),n.a.createElement("div",{className:"pb-48"},n.a.createElement("div",{className:"pb-16 flex items-center"},n.a.createElement(i.a,{color:"action"},"location_city"),n.a.createElement(s.a,{className:"h2 mx-12",color:"textSecondary"},"Address"),n.a.createElement(m.a,{onClick:function(){return e(h.h.openEditDialog(j,"edit"))},variant:"contained"},n.a.createElement("span",{className:""},"Edit Address"))),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"simple"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"Street Name"),n.a.createElement("td",null,j.address)),n.a.createElement("tr",null,n.a.createElement("td",null,"Postalcode"),n.a.createElement("td",null,j.postalcode)),n.a.createElement("tr",null,n.a.createElement("td",null,"District"),n.a.createElement("td",null,j.district)),n.a.createElement("tr",null,n.a.createElement("td",null,"Taluk"),n.a.createElement("td",null,j.taluk)),n.a.createElement("tr",null,n.a.createElement("td",null,"Phone"),n.a.createElement("td",null,j.phone)),n.a.createElement("tr",null,n.a.createElement("td",null,"Mobile"),n.a.createElement("td",null,j.mobile)),n.a.createElement("tr",null,n.a.createElement("td",null,"Locality"),n.a.createElement("td",null,j.locality)),n.a.createElement("tr",null,n.a.createElement("td",null,"Latitude"),n.a.createElement("td",null,j.latitude)),n.a.createElement("tr",null,n.a.createElement("td",null,"Longitude"),n.a.createElement("td",null,j.longitude))))),n.a.createElement("div",{className:"pb-48 mt-16"},n.a.createElement("div",{className:"pb-16 flex items-center"},n.a.createElement(i.a,{color:"action"},"edit_location"),n.a.createElement(s.a,{className:"h2 mx-12",color:"textSecondary"},"Map")),n.a.createElement("img",{className:"ml-16",src:"/assets/images/school/schoolLocation.png",alt:"beach",style:{maxWidth:"640px",width:"100%",border:"8px solid #e5e5e5"}})),n.a.createElement(O.t,{createdby:j.createdby,createdon:j.createdon,updatedby:j.updatedby,updatedon:j.updatedon})))};var v=function(e){return n.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between px-24"},n.a.createElement("div",{className:"flex flex-shrink items-center sm:w-224"},n.a.createElement("div",{className:"flex items-center"},n.a.createElement(c.a,{animation:"transition.expandIn",delay:300},n.a.createElement(i.a,{className:"text-32 mr-12"},"school")),n.a.createElement(c.a,{animation:"transition.slideLeftIn",delay:300},n.a.createElement(s.a,{variant:"h6",className:"hidden sm:flex"},"School Information")))))},g=t(8),j=t(829),f=t(823),y=t(833),N=t(834),_=t(836),L=t(835),S=t(79),D=t.n(S),T=t(101),I={id:"",address:"",postalcode:"",district:"",taluk:"",phone:"",mobile:"",locality:"",latitude:"",longitude:""};var A=function(e){var a=Object(u.b)(),t=Object(l.useRef)(null),r=Object(u.c)((function(e){return e.master.schoolProfileReducer.dialog})),o=Object(T.b)(I),p=o.form,E=o.setForm,x=Object(l.useState)(!1),v=Object(d.a)(x,2),S=v[0],A=v[1],w=h.i.editSchoolProfile,C=Object(b.c)(w,{onCompleted:function(e){e.data;q()}}),P=Object(d.a)(C,2),G=P[0],Y=P[1],R=Y.loading,k=Y.error,W=Object(l.useCallback)((function(){"edit"===r.type&&r.data&&E(Object(g.a)({},r.data))}),[r.data,r.type,E]);Object(l.useEffect)((function(){r.props.open&&W()}),[r.props.open,W]);var q=function(){a(h.h.closeEditDialog())};return n.a.createElement(j.a,Object.assign({},r.props,{onClose:q,fullWidth:!0,maxWidth:"md"}),n.a.createElement(f.a,{position:"static",elevation:1},n.a.createElement(y.a,{className:"flex w-full"},n.a.createElement(s.a,{variant:"subtitle1",color:"inherit"},"Edit Address"))),n.a.createElement(N.a,{classes:{root:"p-0"}},n.a.createElement("div",{className:"px-16 sm:px-24"},n.a.createElement(l.Fragment,null,n.a.createElement(D.a,{onValid:function(){A(!0)},onInvalid:function(){A(!1)},ref:t,onValidSubmit:function(e){"edit"===r.type&&G({variables:{id:p.id,address:e.address,postalcode:e.postalcode,district:e.district,taluk:e.taluk,phone:e.phone,mobile:e.mobile,locality:e.locality,latitude:e.latitude,longitude:e.longitude}})}},n.a.createElement("div",{className:"px-8 sm:px-8 mt-16 flex flex-row"},n.a.createElement(c.x,{className:"mb-8 w-full",type:"text",name:"address",label:"Address",value:p.address,validations:{maxLength:250},validationErrors:{maxLength:"You can not type in more than 250 characters"},variant:"outlined",required:!0,multiline:!0,rows:5}),n.a.createElement("div",{className:"px-8 sm:px-8 flex flex-col w-full"},n.a.createElement(c.x,{className:"mb-8",type:"text",name:"district",label:"District",value:p.district,validations:{maxLength:30},validationErrors:{maxLength:"You can not type in more than 30 characters"},variant:"outlined",required:!0}),n.a.createElement(c.x,{className:"mt-8 mb-8",type:"text",name:"postalcode",label:"Postal Code",value:p.postalcode,validations:{maxLength:10},validationErrors:{maxLength:"You can not type in more than 10 characters"},variant:"outlined",required:!0}))),n.a.createElement("div",{className:"px-8 sm:px-8 mt-16 flex flex-row"},n.a.createElement(c.x,{className:"mb-8 w-full",type:"text",name:"taluk",label:"Taluk",value:p.taluk,validations:{maxLength:30},validationErrors:{maxLength:"You can not type in more than 30 characters"},variant:"outlined",required:!0}),n.a.createElement(c.x,{className:"ml-8 mb-8 w-full",type:"text",name:"locality",label:"Locality",value:p.locality,validations:{maxLength:100},validationErrors:{maxLength:"You can not type in more than 100 characters"},InputProps:{endAdornment:n.a.createElement(_.a,{position:"end"},n.a.createElement(i.a,{className:"text-20",color:"action"},"my_location"))},variant:"outlined",required:!0})),n.a.createElement("div",{className:"px-8 sm:px-8 mt-16 flex flex-row"},n.a.createElement(c.x,{className:"mb-8 w-full",type:"text",name:"phone",label:"Phone",value:p.phone,validations:{maxLength:25},validationErrors:{maxLength:"You can not type in more than 25 characters"},InputProps:{endAdornment:n.a.createElement(_.a,{position:"end"},n.a.createElement(i.a,{className:"text-20",color:"action"},"local_phone"))},variant:"outlined",required:!0}),n.a.createElement(c.x,{className:"ml-8 mb-8 w-full",type:"text",name:"mobile",label:"Mobile",value:p.mobile,validations:{maxLength:25},validationErrors:{maxLength:"You can not type in more than 25 characters"},InputProps:{endAdornment:n.a.createElement(_.a,{position:"end"},n.a.createElement(i.a,{className:"text-20",color:"action"},"phone_iphone"))},variant:"outlined",required:!0})),n.a.createElement("div",{className:"px-8 sm:px-8 mt-16 flex flex-row"},n.a.createElement(c.x,{className:"mb-8 w-full",type:"text",name:"latitude",label:"Latitude",value:p.latitude,validations:{maxLength:150},validationErrors:{maxLength:"You can not type in more than 150 characters"},InputProps:{endAdornment:n.a.createElement(_.a,{position:"end"},n.a.createElement(i.a,{className:"text-20",color:"action"},"location_on"))},variant:"outlined",required:!0}),n.a.createElement(c.x,{className:"ml-8 mb-8 w-full",type:"text",name:"longitude",label:"Longitude",value:p.longitude,validations:{maxLength:150},validationErrors:{maxLength:"You can not type in more than 150 characters"},InputProps:{endAdornment:n.a.createElement(_.a,{position:"end"},n.a.createElement(i.a,{className:"text-20",color:"action"},"location_on"))},variant:"outlined",required:!0}))),R&&n.a.createElement(O.s,{message:"Saving data..."}),k&&n.a.createElement(s.a,{className:"pt-32"},"Error : Please try again! ",n.a.createElement("br",null),k.message," ",n.a.createElement("br",null))))),"edit"===r.type&&n.a.createElement(L.a,{className:"justify-between pl-8 sm:pl-16"},n.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(){q()}},"Close"),n.a.createElement(m.a,{variant:"contained",color:"primary",onClick:function(){t.current.submit()},disabled:!S},"Save")))};a.default=Object(o.a)("master",r.a)((function(e){var a=Object(l.useRef)(null);return n.a.createElement(n.a.Fragment,null,n.a.createElement(c.m,{classes:{contentWrapper:"p-0 h-full",content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-72 sm:min-h-72"},header:n.a.createElement(v,{pageLayout:a}),content:n.a.createElement(x,null),ref:a,innerScroll:!0}),n.a.createElement(A,null))}))},877:function(e,a,t){"use strict";var l=t(47),n=t(8),r=t(60),c={data:[],dialog:{type:"edit",props:{open:!1},data:null,mode:null}},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.h.OPEN_EDIT_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.h.CLOSE_EDIT_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},d={data:[],searchText:"",ayearDialog:{type:"edit",props:{open:!1},data:null,mode:null}},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.n.SET_AYEAR_SEARCH_TEXT:return Object(n.a)(Object(n.a)({},e),{},{searchText:a.searchText});case r.n.OPEN_NEW_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{ayearDialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case r.n.CLOSE_NEW_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{ayearDialog:{type:"new",props:{open:!1},data:null}});case r.n.OPEN_EDIT_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{ayearDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.n.CLOSE_EDIT_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{ayearDialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},s={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.g.SET_EDU_SEARCH_TEXT:return Object(n.a)(Object(n.a)({},e),{},{searchText:a.searchText});case r.g.OPEN_NEW_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case r.g.CLOSE_NEW_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:"new",props:{open:!1},data:null}});case r.g.OPEN_EDIT_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.g.CLOSE_EDIT_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:a.mode,props:{open:!1},data:null}});default:return e}},u={data:[],searchText:"",subjDialog:{type:"edit",props:{open:!1},data:null,mode:null}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.j.GET_SUBJECTS:return Object(n.a)(Object(n.a)({},e),{},{data:a.payload});case r.j.SET_SUBJECTS_SEARCH_TEXT:return Object(n.a)(Object(n.a)({},e),{},{searchText:a.searchText});case r.j.OPEN_NEW_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{subjDialog:{type:"new",props:{open:!0},data:null}});case r.j.CLOSE_NEW_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{subjDialog:{type:"new",props:{open:!1},data:null}});case r.j.OPEN_EDIT_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{subjDialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.j.CLOSE_EDIT_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{subjDialog:{type:a.mode,props:{open:!1},data:null}});case r.j.SET_SUBJECTS_PAGINATION:return Object(n.a)(Object(n.a)({},e),{},{current:a.current,pageSize:a.pageSize});default:return e}},E={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.b.SET_SEARCH_TEXT:return Object(n.a)(Object(n.a)({},e),{},{searchText:a.searchText});case r.b.OPEN_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{props:{open:!0},data:a.data,mode:a.mode}});case r.b.CLOSE_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{props:{open:!1},data:null,mode:a.mode}});case r.b.SET_CLASS_SEC_PAGINATION:return Object(n.a)(Object(n.a)({},e),{},{current:a.current,pageSize:a.pageSize});case r.b.SET_SUBJECT_IDS:return Object(n.a)(Object(n.a)({},e),{},{subjectIds:a.subjectIds});default:return e}},O={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case r.d.SET_DCONFIG_SEARCH_TEXT:return Object(n.a)(Object(n.a)({},e),{},{searchText:a.searchText});case r.d.OPEN_NEW_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:"new",props:{open:!0},data:a.data,mode:a.mode}});case r.d.CLOSE_NEW_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:"new",props:{open:!1},data:null}});case r.d.OPEN_EDIT_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:a.mode,props:{open:!0},data:a.data,mode:a.mode}});case r.d.CLOSE_EDIT_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:a.mode,props:{open:!1},data:null}});case r.d.CLOSE_ONLY_DIALOG:return Object(n.a)(Object(n.a)({},e),{},{dialog:{type:"close",props:{open:!1},data:null}});default:return e}},x=Object(l.d)({schoolProfileReducer:o,ayearReducer:i,edusysReducer:m,subjectReducer:p,classReducer:b,dconfigReducer:h});a.a=x}}]);