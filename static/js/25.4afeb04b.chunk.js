(this["webpackJsonpsivanandha-vidyashram-seithur"]=this["webpackJsonpsivanandha-vidyashram-seithur"]||[]).push([[25],{1400:function(e,a,t){"use strict";t.r(a);var r=t(10),n=t(0),l=t.n(n),c=t(902),o=t(844),i=t(173),s=t(837),m=t(841),d=t(839),u=t(840),_=t(856),f=t(174),g=t(838),p=t(832),E=t(809),y=t(2),b=t(192),h=t(11),v=t(134),x=t.n(v),S=t(32),w=t.n(S),N=(t(874),t(87)),j=(t(79),t(26)),O=t.n(j),k=t(70),C=t(1361),D=(t(21),t(147)),P=(t(101),t(990),t(16)),R=(t(905),{id:"",fee_register:{id:"",paydate:void 0,class_id:"",class_name:"",student_id:"",student_name:"",fathersname:"",address1:"",address2:"",city:"",district:"",postalcode:"",mobile:"",pay_mode:"",total_amount_balance:0,acad_year:"",school_id:"",createdby:"",createdon:Date,updatedby:"",updatedon:Date},fee_details:[{id:"",paid_status:"",particulars_name:"",fee_period:"",term_name:"",no_of_months:"",amount_discount:0,amount_paid:0,is_paid_fully:!1,receipt_no:0,due_date:void 0}],acad_year:"acadyear",school_id:"schoolid"}),F=(t(335),Object(E.a)((function(e){return{root:{marginTop:8},cardHeader:{padding:e.spacing(1,2)},list:{width:200,height:230,backgroundColor:e.palette.background.paper,overflow:"auto"},button:{margin:e.spacing(.5,0)},avatar:{width:72,height:72,background:e.palette.background.default,boxSizing:"content-box","& > img":{borderRadius:"50%"}}}})));new Date;a.default=function(){var e=F(),a=(Object(h.b)(),Object(N.g)()),t=Object(n.useRef)(null),E=Object(n.useState)(""),v=Object(r.a)(E,2),S=v[0],j=(v[1],Object(n.useState)(R)),M=Object(r.a)(j,2),z=M[0],B=M[1],Y=Object(b.b)(D.i.getFeeReceipt,{onCompleted:function(e){var a=e.getFeeReceipt;if(!x.a.isEmpty(a)){var t={id:"String",fee_register:a.fee_register,fee_details:a.fee_details,acad_year:"String",school_id:"String"};B(t)}}}),T=Object(r.a)(Y,2),q=T[0],A=T[1],J=A.loading,H=A.error,I=Object(C.useReactToPrint)({content:function(){return t.current}});return Object(n.useEffect)((function(){if(a.location&&a.location.state){var e=a.location.state,t={class_id:e.class_id,student_id:e.student_id,paydate:e.paydate,receipt_no:Number(e.receipt_no)};q({variables:{class_id:(r=t).class_id,student_id:r.student_id,paydate:r.paydate,receipt_no:r.receipt_no}})}var r}),[]),l.a.createElement(n.Fragment,null,S&&l.a.createElement("div",{className:"w-full flex flex-row text-15 text-red text-center my-16"},S),l.a.createElement("div",{className:"w-3/4"},l.a.createElement(c.a,{container:!0,spacing:1,direction:"column",justify:"center",alignItems:"center",className:"w-full px-16 py-32"},l.a.createElement(c.a,{item:!0,xs:12,className:"w-full flex flex-row self-start"},l.a.createElement(o.a,{component:i.a,ref:t},l.a.createElement(s.a,{size:"small",className:e.table,"aria-label":"feepay_table_header"},l.a.createElement(m.a,null,l.a.createElement(d.a,null,l.a.createElement(u.a,{colSpan:2},l.a.createElement("div",{className:"flex flex-row"},l.a.createElement(_.a,{className:Object(y.default)(e.avatar,"avatar"),alt:"user photo",src:"/assets/images/logos/logo.svg"}),l.a.createElement("div",{className:"flex flex-col w-full justify-center"},l.a.createElement(f.a,{variant:"subtitle2",gutterBottom:!0,component:"div",className:"flex w-full justify-center",color:"textSecondary"},"Sivanandha Vidyalayam English Primary School"),l.a.createElement(f.a,{variant:"body1",gutterBottom:!0,className:"flex w-full justify-center",color:"textSecondary"}," Seithur "),l.a.createElement(f.a,{variant:"body1",gutterBottom:!0,className:"flex w-full justify-center my-16",color:"textSecondary"},"Fee Receipt"))))),l.a.createElement(d.a,null,l.a.createElement(u.a,null,"Receipt No:",l.a.createElement(f.a,{color:"textSecondary"},z.fee_register.receipt_no)),l.a.createElement(u.a,null,"Pay Date:",z.fee_register.paydate&&l.a.createElement(f.a,{color:"textSecondary"},w()(z.fee_register.paydate).format("Do MMM YYYY, h:mm a")))),l.a.createElement(d.a,null,l.a.createElement(u.a,null,"Mode of Payment :",z.fee_register.pay_mode&&l.a.createElement(f.a,{color:"textSecondary"},z.fee_register.pay_mode)),l.a.createElement(u.a,null,"Class Name:"," ",z.fee_register.class_name&&l.a.createElement(f.a,{color:"textSecondary"},z.fee_register.class_name))),l.a.createElement(d.a,null,l.a.createElement(u.a,{valign:"top"},"Name"," ",z&&z.fee_register?l.a.createElement(n.Fragment,null,z.fee_register.student_name&&l.a.createElement(f.a,{color:"textSecondary"},z.fee_register.student_name),z.fee_register.fathersname&&l.a.createElement(f.a,{color:"textSecondary"},"s/o ".concat(z.fee_register.fathersname)),z.fee_register.address1&&l.a.createElement(f.a,{color:"textSecondary"},z.fee_register.address1),z.fee_register.address2&&l.a.createElement(f.a,{color:"textSecondary"},z.fee_register.address2),z.fee_register.city&&l.a.createElement(f.a,{color:"textSecondary"},z.fee_register.city),z.fee_register.district&&l.a.createElement(f.a,{color:"textSecondary"},z.fee_register.district),z.fee_register.mobile&&l.a.createElement(f.a,{color:"textSecondary"},z.fee_register.mobile)):""),l.a.createElement(u.a,{style:{verticalAlign:"top"}},"Roll No:",z.fee_register.studentno&&l.a.createElement(f.a,{color:"textSecondary"},z.fee_register.studentno))),l.a.createElement(d.a,null,l.a.createElement(u.a,{colSpan:2},l.a.createElement(s.a,{size:"small",className:e.table,"aria-label":"feepay_table"},l.a.createElement(g.a,null,l.a.createElement(d.a,null,l.a.createElement(u.a,{align:"left"},"S.No"),l.a.createElement(u.a,{align:"center"},"Particulars"),l.a.createElement(u.a,{align:"right"},"Amount Paid"))),l.a.createElement(m.a,null,z.fee_details&&z.fee_details.map((function(a,t){return l.a.createElement(d.a,{id:t,key:t,classes:{root:e.trow},hover:!0},l.a.createElement(u.a,{align:"left"},"".concat(t+1)),l.a.createElement(u.a,{align:"left"},"".concat(a.particulars_name," - ").concat(a.fee_period)," - ".concat(a.term_name)),l.a.createElement(u.a,{align:"right",className:"tracking-wider"},P.u.formatNumber(a.amount_paid)))})),l.a.createElement(d.a,{key:"d_row1"},l.a.createElement(u.a,{className:"pl-8",colSpan:2}),l.a.createElement(u.a,{align:"right"},l.a.createElement(f.a,{variant:"h6",gutterBottom:!0,component:"div",className:"tracking-widest"},z&&z.fee_register?P.u.formatNumber(z.fee_register.total_amount_paid):""))),l.a.createElement(d.a,{key:"d_row2"},l.a.createElement(u.a,{align:"right",colSpan:2},"Discount"),l.a.createElement(u.a,{align:"right"},"0 %")),l.a.createElement(d.a,{key:"d_row3"},l.a.createElement(u.a,{align:"right",colSpan:2},"Total"),l.a.createElement(u.a,{align:"right",className:"tracking-widest"},z&&z.fee_register?P.u.formatNumber(z.fee_register.total_amount_paid):"")))))))))),l.a.createElement(c.a,{item:!0,xs:12,className:"w-full flex flex-row justify-center"},l.a.createElement(p.a,{color:"secondary",variant:"contained",size:"small",className:O()(e.button,"normal-case ml-16"),"aria-label":"save",onClick:function(){I()}},"Print")))),J&&l.a.createElement(k.s,{message:"Fee payment in progress..."}),H&&l.a.createElement(f.a,{className:"pt-32"},"Error : Please try again! ",l.a.createElement("br",null),H.message," ",l.a.createElement("br",null)))}},905:function(e,a,t){"use strict";t.d(a,"c",(function(){return n})),t.d(a,"a",(function(){return r})),t.d(a,"b",(function(){return l}));var r={id:"row1",paydate:new Date,fee_master_id:"",pay_mode:"Cash",amount_payable:0,amount_discount:0,amount_paid:0,amount_balance:0,is_paid_fully:!1,receipt_no:void 0,paid_status:""},n={id:"",paydate:new Date,class_id:"",student_id:"",fee_details:[r],pay_mode:"Cash",total_amount_payable:"",total_amount_discount:"",total_amount_paid:"",total_amount_balance:"",acad_year:"",school_id:""},l={fee_master_id:"",particulars_name:"",term_name:"",fee_period:"",amount_payable:0,amount_balance:0,due_date:"",from_date:"",to_date:"",paid_status:""}},990:function(e,a,t){"use strict";var r=t(10),n=t(0),l=t.n(n),c=t(851),o=t(854),i=t(820),s=t(760),m=t(761);a.a=function(e){var a=e.onModeChange,t=l.a.useState("Cash"),n=Object(r.a)(t,2),d=n[0],u=n[1];return l.a.createElement(s.a,{component:"fieldset",className:"p-8",style:{border:"1px solid #E0E0E0"}},l.a.createElement(m.a,{component:"legend"},"Mode of Payment"),l.a.createElement(o.a,{"aria-label":"modeofpay",name:"modeofpay",value:d,onChange:function(e){var t=e.target.value;u(t),a(t)}},l.a.createElement(i.a,{value:"Cash",control:l.a.createElement(c.a,null),label:"Cash"}),l.a.createElement(i.a,{value:"Cheque",control:l.a.createElement(c.a,null),label:"Cheque"}),l.a.createElement(i.a,{value:"DD",control:l.a.createElement(c.a,null),label:"Demand Draft"}),l.a.createElement(i.a,{value:"Others",control:l.a.createElement(c.a,null),label:"Others"})))}}}]);