(this["webpackJsonpsivanandha-webapp"]=this["webpackJsonpsivanandha-webapp"]||[]).push([[13],{1063:function(t,e,n){"use strict";var a={};n.r(a),n.d(a,"SET_SEARCH_TEXT",(function(){return i})),n.d(a,"OPEN_NEW_DIALOG",(function(){return o})),n.d(a,"CLOSE_NEW_DIALOG",(function(){return c})),n.d(a,"OPEN_EDIT_DIALOG",(function(){return l})),n.d(a,"CLOSE_EDIT_DIALOG",(function(){return s})),n.d(a,"CLOSE_ONLY_DIALOG",(function(){return d})),n.d(a,"setSearchText",(function(){return m})),n.d(a,"openNewDialog",(function(){return u})),n.d(a,"closeNewDialog",(function(){return p})),n.d(a,"openEditDialog",(function(){return b})),n.d(a,"closeEditDialog",(function(){return E})),n.d(a,"closeOnlyDialog",(function(){return f}));var r={};n.r(r),n.d(r,"getAllExamMaster",(function(){return h})),n.d(r,"addExamMaster",(function(){return w})),n.d(r,"editExamMaster",(function(){return k})),n.d(r,"delExamMaster",(function(){return A})),n.d(r,"getAllExamGrade",(function(){return M})),n.d(r,"addMarkGrade",(function(){return C})),n.d(r,"editMarkGrade",(function(){return G})),n.d(r,"delMarkGrade",(function(){return D}));var i="[EXAM_MASTER] SET SEARCH TEXT",o="[EXAM_MASTER] OPEN NEW DIALOG",c="[EXAM_MASTER] CLOSE NEW DIALOG",l="[EXAM_MASTER] OPEN EDIT DIALOG",s="[EXAM_MASTER] CLOSE EDIT DIALOG",d="[EXAM_MASTER] CLOSE ONLY DIALOG";function m(t){return{type:i,searchText:t.target.value}}function u(){return{type:o}}function p(){return{type:c}}function b(t,e){return{type:l,data:t,mode:e}}function E(){return{type:s}}function f(){return{type:d}}var y=n(14),x=n(13),g=n.n(x);function N(){var t=Object(y.a)(["\n\tmutation delMarkGrade($id: String!) {\n\t\tdelMarkGrade(id: $id) {\n\t\t\tMessages\n\t\t}\n\t}\n"]);return N=function(){return t},t}function _(){var t=Object(y.a)(["\n\tmutation editMarkGrade(\n\t\t$id: String!\n\t\t$name: String\n\t\t$description: String\n\t\t$color: String\n\t\t$grade_point: Int\n\t\t$min: Int\n\t\t$max: Int\n\t\t$orderby: Int\n\t\t$acd_year_id: String\n\t\t$notes: String\n\t) {\n\t\teditMarkGrade(\n\t\t\tid: $id\n\t\t\tinput: {\n\t\t\t\tname: $name\n\t\t\t\tdescription: $description\n\t\t\t\tcolor: $color\n\t\t\t\tgrade_point: $grade_point\n\t\t\t\tmin: $min\n\t\t\t\tmax: $max\n\t\t\t\torderby: $orderby\n\t\t\t\tacd_year_id: $acd_year_id\n\t\t\t\tnotes: $notes\n\t\t\t}\n\t\t) {\n\t\t\tid\n\t\t}\n\t}\n"]);return _=function(){return t},t}function v(){var t=Object(y.a)(["\n\tmutation addMarkGrade(\n\t\t$name: String\n\t\t$description: String\n\t\t$color: String\n\t\t$grade_point: Int\n\t\t$min: Int\n\t\t$max: Int\n\t\t$orderby: Int\n\t\t$acd_year_id: String\n\t\t$notes: String\n\t) {\n\t\taddMarkGrade(\n\t\t\tinput: {\n\t\t\t\tname: $name\n\t\t\t\tdescription: $description\n\t\t\t\tcolor: $color\n\t\t\t\tgrade_point: $grade_point\n\t\t\t\tmin: $min\n\t\t\t\tmax: $max\n\t\t\t\torderby: $orderby\n\t\t\t\tacd_year_id: $acd_year_id\n\t\t\t\tnotes: $notes\n\t\t\t}\n\t\t) {\n\t\t\tid\n\t\t}\n\t}\n"]);return v=function(){return t},t}function O(){var t=Object(y.a)(["\n\tquery {\n\t\tgetAllExamGrade {\n\t\t\tid\n\t\t\tname\n\t\t\tdescription\n\t\t\tcolor\n\t\t\tgrade_point\n\t\t\tmin\n\t\t\tmax\n\t\t\torderby\n\t\t\tacd_year_id\n\t\t\tnotes\n\t\t\tcreatedby\n\t\t\tcreatedon\n\t\t\tupdatedby\n\t\t\tupdatedon\n\t\t}\n\t}\n"]);return O=function(){return t},t}function $(){var t=Object(y.a)(["\n\tmutation delExamMaster($id: String!) {\n\t\tdelExamMaster(id: $id) {\n\t\t\tMessages\n\t\t}\n\t}\n"]);return $=function(){return t},t}function j(){var t=Object(y.a)(["\n\tmutation editExamMaster(\n\t\t$id: String!\n\t\t$name: String\n\t\t$class: String\n\t\t$subjects: String\n\t\t$min_marks: Int\n\t\t$max_marks: Int\n\t\t$orderby: Int\n\t\t$notes: String\n\t) {\n\t\teditExamMaster(\n\t\t\tid: $id\n\t\t\tinput: {\n\t\t\t\tname: $name\n\t\t\t\tclass: $class\n\t\t\t\tsubjects: $subjects\n\t\t\t\tmin_marks: $min_marks\n\t\t\t\tmax_marks: $max_marks\n\t\t\t\torderby: $orderby\n\t\t\t\tnotes: $notes\n\t\t\t}\n\t\t) {\n\t\t\tid\n\t\t}\n\t}\n"]);return j=function(){return t},t}function S(){var t=Object(y.a)(["\n\tmutation addExamMaster(\n\t\t$name: String\n\t\t$class: String\n\t\t$subjects: String\n\t\t$min_marks: Int\n\t\t$max_marks: Int\n\t\t$orderby: Int\n\t\t$notes: String\n\t) {\n\t\taddExamMaster(\n\t\t\tinput: {\n\t\t\t\tname: $name\n\t\t\t\tclass: $class\n\t\t\t\tsubjects: $subjects\n\t\t\t\tmin_marks: $min_marks\n\t\t\t\tmax_marks: $max_marks\n\t\t\t\torderby: $orderby\n\t\t\t\tnotes: $notes\n\t\t\t}\n\t\t) {\n\t\t\tid\n\t\t}\n\t}\n"]);return S=function(){return t},t}function I(){var t=Object(y.a)(["\n\tquery getAllExamMaster($examName: String, $classId: String) {\n\t\tgetAllExamMaster(examName: $examName, classId: $classId) {\n\t\t\tid\n\t\t\texamName\n\t\t\tminMarks\n\t\t\tmaxMarks\n\t\t\torderby\n\t\t\tnotes\n\t\t\tclassId\n\t\t\tclassName\n\t\t\tclassSection\n\t\t\tsubjectId\n\t\t\tsubjectName\n\t\t\tsubjectSubcode\n\t\t\tsubjectColor\n\t\t\tcreatedby\n\t\t\tcreatedon\n\t\t\tupdatedby\n\t\t\tupdatedon\n\t\t}\n\t}\n"]);return I=function(){return t},t}var h=g()(I()),w=g()(S()),k=g()(j()),A=g()($()),M=g()(O()),C=g()(v()),G=g()(_()),D=g()(N());function L(){var t=Object(y.a)(["\n\tquery getAllExamMaster($examName: String, $classId: String) {\n\t\tgetAllExamMaster(examName: $examName, classId: $classId) {\n\t\t\tid\n\t\t\texamName\n\t\t\tminMarks\n\t\t\tmaxMarks\n\t\t\torderby\n\t\t\tnotes\n\t\t\tclassId\n\t\t\tclassName\n\t\t\tclassSection\n\t\t\tsubjectId\n\t\t\tsubjectName\n\t\t\tsubjectSubcode\n\t\t\tsubjectColor\n\t\t\tcreatedby\n\t\t\tcreatedon\n\t\t\tupdatedby\n\t\t\tupdatedon\n\t\t}\n\t}\n"]);return L=function(){return t},t}g()(L());n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}))},1111:function(t,e,n){"use strict";var a=n(11),r=n(1063),i={data:[],searchText:"",dialog:{type:"edit",props:{open:!1},data:null,mode:null}};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case r.a.SET_SEARCH_TEXT:return Object(a.a)({},t,{searchText:e.searchText});case r.a.OPEN_NEW_DIALOG:return Object(a.a)({},t,{dialog:{type:"new",props:{open:!0},data:e.data,mode:e.mode}});case r.a.CLOSE_NEW_DIALOG:return Object(a.a)({},t,{dialog:{type:"new",props:{open:!1},data:null}});case r.a.OPEN_EDIT_DIALOG:return Object(a.a)({},t,{dialog:{type:e.mode,props:{open:!0},data:e.data,mode:e.mode}});case r.a.CLOSE_EDIT_DIALOG:return Object(a.a)({},t,{dialog:{type:e.mode,props:{open:!1},data:null}});case r.a.CLOSE_ONLY_DIALOG:return Object(a.a)({},t,{dialog:{type:"close",props:{open:!1},data:null}});default:return t}}},1112:function(t,e,n){"use strict";var a=n(0),r=n.n(a),i=n(1011),o=n(157),c=n(1036),l=n(16),s=n(8),d=n(1063);e.a=function(t){var e=Object(s.b)();return r.a.createElement("div",{className:"flex flex-1 w-full items-center justify-between px-24"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement(l.a,{animation:"transition.expandIn",delay:300},r.a.createElement(i.a,{className:"text-32 mr-12"},t.icon)),r.a.createElement(l.a,{animation:"transition.slideLeftIn",delay:300},r.a.createElement(o.a,{variant:"h6",className:"hidden sm:flex"},t.headerName))),r.a.createElement(l.a,{animation:"transition.slideRightIn",delay:300},r.a.createElement(c.a,{onClick:function(){e(d.a.openNewDialog())},variant:"contained"},r.a.createElement("span",{className:"hidden sm:flex normal-case"},t.buttonDisplay?t.buttonDisplay:"Add New"),r.a.createElement("span",{className:"flex sm:hidden normal-case"},"New"))))}},1408:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),i=n(16),o=n(158),c=n(1111),l=n(1112),s=n(10),d=n(1030),m=n(963),u=n(1011),p=n(221),b=(n(64),n(218)),E=n(8),f=(n(197),n(75)),y=n(1063),x={current:1,total:0,pageSize:10,sorted:"",isAsc:"ASC",examName:"ALL",classId:"ALL"};var g=function(){var t=Object(E.b)(),e=Object(a.useState)(x),n=Object(s.a)(e,2),i=(n[0],n[1],Object(E.c)((function(t){return t.exams.dialog}))),o=Object(b.d)(y.b.getAllExamGrade),c=o.loading,l=o.error,g=o.data,N=o.refetch;if(Object(a.useEffect)((function(){i.props.open||"close"===i.type||N()}),[i.props.open,i.type,N]),l)return r.a.createElement("h1",null,"Error...");if(c||!g)return r.a.createElement(f.j,null);var _=g.getAllExamGrade;return r.a.createElement("div",{className:"w-full flex flex-col"},r.a.createElement(p.b,{className:"-striped -highlight border-0 min-w-xl ",data:_,showPagination:!0,defaultSorted:[{id:"orderby",asc:!0}],columns:[{Header:function(){return r.a.createElement("span",{style:{whiteSpace:"pre-line !important",wordWrap:"break-word"}},"Name")},accessor:"name",style:{whiteSpace:"unset"},getProps:function(){return{style:{paddingLeft:"8px",justifyContent:"center"}}}},{Header:"Description",accessor:"description",getProps:function(){return{style:{justifyContent:"center"}}}},{Header:"Color",accessor:"color",Cell:function(t){return r.a.createElement("div",{className:"inline p-4 rounded truncate",style:{backgroundColor:t.original.color,minWidth:"42px"}},t.original.color)},getProps:function(){return{style:{justifyContent:"center"}}}},{Header:"Grade Perc",accessor:"grade_point"},{Header:"Min",accessor:"min",getProps:function(){return{style:{justifyContent:"center"}}}},{Header:"Max",accessor:"max",getProps:function(){return{style:{justifyContent:"center"}}}},{Header:"Comments",accessor:"notes",style:{whiteSpace:"unset"}},{Header:"",sortable:!1,Cell:function(e){return r.a.createElement("div",{className:"flex items-center"},r.a.createElement(d.a,{title:"Edit Exam Grade"},r.a.createElement(m.a,{onClick:function(n){n.stopPropagation(),t(y.a.openEditDialog(e.original,"edit"))}},r.a.createElement(u.a,null,"edit"))),r.a.createElement(d.a,{title:"Delete / Inactivate"},r.a.createElement(m.a,{onClick:function(n){n.stopPropagation(),t(y.a.openEditDialog(e.original,"delete"))}},r.a.createElement(u.a,null,"delete"))))}}]}))},N=n(11),_=n(1033),v=n(1027),O=n(1037),$=n(157),j=n(1038),S=n(1010),I=n(1039),h=n(1036),w=(n(1065),n(1121)),k=n(1017),A=n(19),M=n.n(A),C=n(109),G=n(82),D=n.n(G),L=Object(k.a)((function(t){return{color:{width:"36px",height:"36px",borderRadius:"4px"},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{position:"absolute",zIndex:"2"}}})),T={id:"",name:"",description:"",color:"",grade_point:90,min:0,max:100,orderby:0,acd_year_id:"",notes:""};var P=function(t){var e=Object(E.b)(),n=L(t),o=Object(E.c)((function(t){return t.exams.dialog})),c=Object(a.useState)(!1),l=Object(s.a)(c,2),d=l[0],m=l[1],p=Object(a.useState)(!1),x=Object(s.a)(p,2),g=x[0],k=x[1],A=Object(a.useState)("#e5e5e5"),G=Object(s.a)(A,2),P=G[0],R=G[1],W=Object(a.useState)(null),H=Object(s.a)(W,2),q=H[0],X=H[1],F=Object(C.b)(T),Y=F.form,z=F.setForm,J=(F.setInForm,Object(a.useRef)(null)),V=y.b.editMarkGrade;"new"===o.type?V=y.b.addMarkGrade:"edit"===o.type?V=y.b.editMarkGrade:"delete"===o.type&&(V=y.b.delMarkGrade);var B=Object(b.c)(V,{onCompleted:function(t){t.data;nt()}}),K=Object(s.a)(B,2),Q=K[0],U=K[1],Z=U.loading,tt=U.error,et=Object(a.useCallback)((function(){"edit"!==o.type&&"delete"!==o.type||!o.data||z(Object(N.a)({},o.data)),"new"===o.type&&z(Object(N.a)({},T))}),[o.data,o.type,z]);Object(a.useEffect)((function(){return o.props.open&&et(),function(){z(T)}}),[o.props.open,et,z]);var nt=function(){"edit"===o.type?e(y.a.closeEditDialog()):e(y.a.closeNewDialog()),at(),X(null)},at=function(){k(!1)};return r.a.createElement(_.a,Object.assign({},o.props,{onClose:nt,fullWidth:!0,maxWidth:"md"}),r.a.createElement(v.a,{position:"static",elevation:1},r.a.createElement(O.a,{className:"flex w-full"},r.a.createElement($.a,{variant:"subtitle1",color:"inherit"},"new"===o.type?"New Grade":"edit"===o.type?"Edit Grade":"Delete Grade"))),r.a.createElement(j.a,{classes:{root:"p-0"}},r.a.createElement("div",{className:"px-16 sm:px-24"},r.a.createElement(a.Fragment,null,r.a.createElement(D.a,{onValid:function(){m(!0)},onInvalid:function(){m(!1)},ref:J,onValidSubmit:function(t){"new"===o.type?Q({variables:{name:t.name,description:t.description,color:P,grade_point:Number(t.grade_point),min:Number(t.min),max:Number(t.max),orderby:Number(t.orderby),acd_year_id:t.acd_year_id,notes:t.notes}}):"edit"===o.type?Q({variables:{id:Y.id,name:t.name,description:t.description,color:P,grade_point:Number(t.grade_point),min:Number(t.min),max:Number(t.max),orderby:Number(t.orderby),acd_year_id:t.acd_year_id,notes:t.notes}}):"delete"===o.type&&Q({variables:{id:Y.id}})}},r.a.createElement("div",{className:"mt-16 flex flex-row justify-between"},r.a.createElement(i.y,{className:"pr-8 mb-8 mt-8 w-1/2",type:"text",name:"name",label:"Name",value:Y.name,InputProps:{endAdornment:r.a.createElement(S.a,{position:"end"},r.a.createElement(u.a,{className:"text-20",color:"action"},"book"))},variant:"outlined",required:!0}),r.a.createElement(i.y,{className:"pr-8 mb-8 mt-8 w-1/2",type:"text",name:"description",label:"Description",value:Y.description,InputProps:{endAdornment:r.a.createElement(S.a,{position:"end"},r.a.createElement(u.a,{className:"text-20",color:"action"},"book"))},variant:"outlined",required:!0})),r.a.createElement("div",{className:"mt-16 flex flex-row justify-between"},r.a.createElement("div",{className:M()(n.swatch,"flex flex-col items-center mb-8"),onClick:function(){k(!g)}},r.a.createElement("div",{className:M()(n.color,"flex flex-row items-center inline p-4 rounded truncate"),style:{background:q?P:Y.color}}),r.a.createElement("div",{className:"items-center pl-16"},"Selected Color: ",q?P:Y.color),g?r.a.createElement("div",{onClick:at},r.a.createElement(w.SwatchesPicker,{color:P,onChange:function(t,e){R(t.hex),X(t.hex)},width:"100%",height:"150px"})):null),r.a.createElement(i.y,{className:"pr-8 mb-8 mt-8 w-1/2",type:"number",name:"grade_point",label:"Grade Perc",value:Y.grade_point,InputProps:{endAdornment:r.a.createElement(S.a,{position:"end"},r.a.createElement(u.a,{className:"text-20",color:"action"},"book"))},variant:"outlined",required:!0})),r.a.createElement("div",{className:"mt-16 flex flex-row justify-between"},r.a.createElement("div",{className:"px-8 sm:px-8 flex flex-row justify-between w-1/2"},r.a.createElement(i.y,{className:"pr-8 mb-8 mt-8",type:"number",name:"min",label:"Min Marks",value:Y.min,InputProps:{endAdornment:r.a.createElement(S.a,{position:"end"},r.a.createElement(u.a,{className:"text-20",color:"action"},"book"))},variant:"outlined",required:!0}),r.a.createElement(i.y,{className:"pr-8 mb-8 mt-8",type:"number",name:"max",label:"Max Marks",value:Y.max,InputProps:{endAdornment:r.a.createElement(S.a,{position:"end"},r.a.createElement(u.a,{className:"text-20",color:"action"},"book"))},variant:"outlined",required:!0})),r.a.createElement("div",{className:"ml-8 flex flex-row justify-between w-1/2"},r.a.createElement(i.y,{className:"pr-8 mb-8 mt-8",type:"number",name:"orderby",label:"Order by",value:Y.orderby,InputProps:{endAdornment:r.a.createElement(S.a,{position:"end"},r.a.createElement(u.a,{className:"text-20",color:"action"},"sort"))},variant:"outlined",required:!0}))),r.a.createElement("div",{className:"px-8 sm:px-8 mt-8 flex flex-row"},r.a.createElement(i.y,{className:"pr-8 mb-8 mt-8",type:"text",name:"notes",label:"Comments (if any)",value:Y.notes,multiline:!0,rows:3,validations:{maxLength:250},validationErrors:{maxLength:"You can not type in more than 250 characters"},InputProps:{endAdornment:r.a.createElement(S.a,{position:"end"},r.a.createElement(u.a,{className:"text-20",color:"action"},"event_note"))},variant:"outlined",fullWidth:!0}))),Z&&r.a.createElement(f.j,{message:"Saving data..."}),tt&&r.a.createElement($.a,{className:"pt-32"},"Error : Please try again! ",r.a.createElement("br",null),tt.message," ",r.a.createElement("br",null))))),r.a.createElement(I.a,{className:"justify-between pl-8 sm:pl-16"},r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){e(y.a.closeOnlyDialog()),at(),X(null)}},"Close"),"new"===o.type&&r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){J.current.submit()},disabled:!d},"Add Grade"),"edit"===o.type&&r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){J.current.submit()},disabled:!d},"Save"),"delete"===o.type&&r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){J.current.submit()}},"Delete")))};e.default=Object(o.a)("exams",c.a)((function(){var t=Object(a.useRef)(null);return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.m,{classes:{contentWrapper:"p-0 h-full",content:"flex flex-col h-full",header:"min-h-72 h-72 sm:h-72 sm:min-h-72"},header:r.a.createElement(l.a,{pageLayout:t,headerName:"Exam Grade Setup",buttonDisplay:"Add New Grade",icon:"grade"}),content:r.a.createElement(g,null),ref:t,innerScroll:!0}),r.a.createElement(P,null))}))}}]);